/*
 * Author       : user11_demo121
 * Generated on : 09-Feb-2026 13:45:20
 * Version      : 1.0
 */
 application "Invoice Automation5"
 {
 	date format = "dd-MMM-yyyy"
 	time zone = "Asia/Kolkata"
 	time format = "24-hr"
 	forms
	{
		form Books_Items
		{
			displayname = "Books Items"
			success message = "Data Added Successfully!"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			Books_Item_ID
			(
    			type = text
				displayname = "Books Item ID"
	 			row = 1
	 			column = 1   
				width = medium
			)
			Item_Name
			(
    			type = text
				displayname = "Item Name"
	 			row = 1
	 			column = 1   
				width = medium
			)
			Unit_Price_Kg
			(
    			type = text
				displayname = "Unit Price Kg"
	 			row = 1
	 			column = 1   
				width = medium
			)
			UOM
			(
    			type = text
	 			row = 1
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form Customer_Form
		{
			displayname = "Customer Form"
			success message = "Customer Added Successfully"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			Name
			(
    			type = text
	 			row = 1
	 			column = 1   
				width = medium
			)
			Phone_Number
			(
    			type = phonenumber
				displayname = "Phone"
	 			row = 1
	 			column = 1   
				width = medium
				personal data = true
			)
			Email
			(
    			type = email
				maxchar = 80
	 			row = 1
	 			column = 1   
				width = medium
				personal data = true
			)
			Books_Customer_ID
			(
    			type = text
				displayname = "Books Customer ID"
	 			row = 1
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form inbound_and_outbound
		{
			displayname = "inbound and outbound"
			success message = "Data Added Successfully!"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			Invoice_Number
			(
    			type = text
				displayname = "Invoice Number"
	 			row = 1
	 			column = 1   
				width = medium
			)
			SubForm
			(
				type = grid
				Checkbox
				(
					type = list	
					values = {"Choice 1"}
					height = 60px
					width = small
				)
				Item_Name
				(
    				type = text
					displayname = "Item Name"
					width = medium
				)
				Quantity
				(
					type = number
					width = medium
				)
				UOM
				(
    				type = text
					width = medium
				)
				Driver_Name
				(
    				type = text
					displayname = "Driver Name"
					width = medium
				)
				Driver_Contact
				(
    				type = phonenumber
					displayname = "Driver Contact"
					width = medium
					personal data = true
				)
	 			row = 2
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form Inbound_Form
		{
			displayname = "Inbound Form"
			success message = "Data Added Successfully!"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			Module
			(
				type = picklist
				maxchar = 100
				values = {"TO"}
	 			row = 1
	 			column = 1   
				width = small
			)
			Driver_Name
			(
    			type = text
				displayname = "Driver Name"
	 			row = 1
	 			column = 1   
				width = small
			)
			Dispatched_Date
			(
    			type = date
				displayname = "Dispatched Date"
				alloweddays = 0,1,2,3,4,5,6
	 			row = 1
	 			column = 1   
				width = small
			)
			TO
			(
				type = picklist
				maxchar = 100
				values = {"Choice 1"}
	 			row = 1
	 			column = 2   
				width = small
			)
			Contact
			(
    			type = phonenumber
	 			row = 1
	 			column = 2   
				width = small
				personal data = true
			)
			Item_Details
			(
				type = grid
				displayname = "Item Details"
				auto width = false
				Select
				(
    				type = checkbox
					initial value = false
					width = medium
				)
				S_No
				(
					type = number
					displayname = "S No"
					width = 90px
				)
				Items
				(
    				type = text
					width = 200px
				)
				Quantity
				(
					type = number
					width = 120px
				)
				Quantity_Sent
				(
					type = number
					displayname = "Quantity Sent"
					width = 120px
				)
	 			row = 2
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form Invoice_Form
		{
			displayname = "Invoice Form"
			success message = "Invoice Added Successfully"
			feature property = 64
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			must have Customer
			(
				type = picklist	
				values  = Customer_Form.ID
    			displayformat = [Name + " - " + Phone_Number + " - " + Email]
				sortorder = ascending
	 			row = 1
	 			column = 1   
				width = medium
			)
			Invoice_No
			(
    			type = text
				displayname = "Invoice No"
	 			row = 1
	 			column = 1   
				width = medium
			)
			Invoice_Date
			(
    			type = date
				displayname = "Invoice Date"
				initial value = "${zoho.currentdate}"
				alloweddays = 0,1,2,3,4,5,6
	 			row = 1
	 			column = 1   
				width = medium
			)
			must have Location
			(
				type = picklist
				maxchar = 100
				values = {""}
				sortorder = ascending
	 			row = 1
	 			column = 2   
				width = medium
			)
			SalesPerson
			(
    			type = text
	 			row = 1
	 			column = 2   
				width = medium
			)
			Item_Details
			(
				type = grid
				displayname = "Item Details"
				auto width = false
				S_No
				(
					type = number
					displayname = "S No"
					width = 40px
				)
				must have Items
				(
					type = picklist	
					values  = Books_Items.ID
    				displayformat = [Item_Name]
					sortorder = ascending
					width = medium
				)
				Store
				(
					type = picklist
					maxchar = 100
					values = {"Choice 1"}
					width = 60px
				)
				must have Unit_Price
				(
					displayname = "Unit Price"
					type = INR
					format = commadotindian
					width = 60px
				)
				UOM
				(
					type = picklist
					maxchar = 100
					values = {"Choice 1"}
					width = 60px
				)
				Weight_Per_Bag
				(
					type = number
					displayname = "Weight Per Bag"
					width = 60px
				)
				Loose
				(
					type = number
					width = 60px
				)
				Quantity
				(
					type = number
					width = 80px
				)
				must have Item_Price
				(
					displayname = "Item Price"
					type = INR
					format = commadotindian
					width = 80px
				)
	 			row = 2
	 			column = 1   
				width = medium
			)
			Summary
			(
				type = section
				visibility = true
	 			row = 3
	 			column = 0   
				width = medium
			)
			Total_Bag
			(
				type = number
				displayname = "Total Bag"
	 			row = 3
	 			column = 1   
				width = medium
			)
			Labour_Charge
			(
				displayname = "Labour Charge"
				type = INR
				format = commadotindian
	 			row = 3
	 			column = 1   
				width = medium
			)
			Freight
			(
				type = INR
				format = commadotindian
	 			row = 3
	 			column = 1   
				width = medium
			)
			Total_Weight
			(
				type = number
				displayname = "Total Weight"
	 			row = 3
	 			column = 2   
				width = medium
			)
			Subtotal
			(
				type = INR
				format = commadotindian
	 			row = 3
	 			column = 2   
				width = medium
			)
			Total_Amount
			(
				displayname = "Total Amount"
				type = INR
				format = commadotindian
	 			row = 3
	 			column = 2   
				width = medium
			)
			Payment_Summary
			(
				type = section
				displayname = "Payment Summary"
	 			row = 4
	 			column = 0   
				width = medium
			)
			Payment
			(
				type = checkboxes	
				values = {"I have received the payment"}
	 			row = 4
	 			column = 1   
				width = medium
			)
			Payment_Details
			(
				type = section
				displayname = "Payment Details"
				visibility = true
	 			row = 5
	 			column = 0   
				width = medium
			)
			must have Payment_Mode
			(
				type = picklist
				displayname = "Payment Mode"
				maxchar = 100
				values = {"Cash","UPI","Bank Transfer"}
	 			row = 5
	 			column = 1   
				width = small
			)
			must have Deposit_To
			(
				type = picklist
				displayname = "Deposit To"
				maxchar = 100
				values = {"Choice 1"}
	 			row = 5
	 			column = 2   
				width = small
			)
			Amount_Received
			(
				displayname = "Amount Received"
				type = INR
				format = commadotindian
	 			row = 5
	 			column = 2   
				width = medium
			)
	
			actions
			{
				on add
				{
					Save_and_Print
					(
   						type = submit
   						displayname = "Save and Print"
					)
				}
				on edit
				{
					Update_and_Print
					(
   						type = submit
   						displayname = "Update and Print"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		print template
			{
				Invoice_template
				{
							displayname = "Invoice template"
							content = {"pageNumberOption":null,"orientation":"portrait","images":[{"fileName":"","imageId":"","imageType":"","fileId":""}],"imageId":"","isFooterEnabled":false,"containerStyle":"","templateStyle":"text-align: left; width: 559px; background-image: none; padding: 0px; margin: 0px","version":"2","layout":"1","mainLayout":[{"elements":[{"type":"columns","element":{"split":"100","id":"u_elem_12572259999999404","elemStyle":"","collayouts":[{"colElements":[{"type":"text","element":{"id":"u_elem_12572239999997616","fields":[],"content":"<div\n    style=\"background: rgba(0, 0, 0, 0); padding: 0px; outline: none\">\n   <h1\n      style=\"text-align: center; color: rgb(0, 0, 0); font-weight: 400; font-style: normal\"><font\n        style=\"font-size: 8px\"> <font style=\"\"> <font\n        style=\"font-size: 8px\">\u200b<\/font>\u200b<\/font>ANIKA PULSES PRIVATE LIMITED DUMARTARAI RAIPUR <font style=\"\">\u200b<\/font> <\/font><\/h1>\n  <\/div>"}}]}]}},{"type":"columns","element":{"split":"49,51","id":"u_elem_4850681999999881","elemStyle":"","collayouts":[{"colElements":[{"id":"u_elem_3424140000000596","type":"fields","element":{"Lookup_Label_Name":"Customer","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Name","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Name","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_10255516661945","type":"fields","element":{"valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Invoice No","wrapperStyle":"","labelStyle":"width: 50%; padding-left: 5px; padding-top: 5px; background-color: rgb(255, 255, 255)","Label_Name":"Invoice_No","labelTextStyle":""}},{"id":"u_elem_10255516674815","type":"fields","element":{"valueStyle":"width: 50%; background-color: rgb(255, 255, 255)","valueTextStyle":"","fieldLayoutType":"2","labelText":"Invoice Date","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Invoice_Date","labelTextStyle":""}}]}]}},{"type":"columns","element":{"split":"10,11,24,16,12,11,16","id":"u_elem_8160712999999821","elemStyle":"","collayouts":[{"colElements":[{"id":"u_elem_10255516676646","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"3","labelText":"S No","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"S_No","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_10255516678095","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"3","labelText":"Store","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Store","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_10255516679326","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"3","labelText":"Items","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Items","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_10255516680535","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"3","labelText":"Unit Price/Kg","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Unit_Price","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_10255516681726","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"3","labelText":"Bharti","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Weight_Per_Bag","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_10255516682905","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"3","labelText":"Loose","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Loose","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_10255516687566","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"3","labelText":"Item Price","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Item_Price","labelTextStyle":""}}]}]}},{"type":"columns","element":{"split":"50,50","id":"u_elem_10823237999999821","elemStyle":"","collayouts":[{"colElements":[{"id":"u_elem_10255516689315","type":"fields","element":{"valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Labour Charge","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Labour_Charge","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_10255516690755","type":"fields","element":{"valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Subtotal","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Subtotal","labelTextStyle":""}}]}]}},{"type":"columns","element":{"split":"50,50","id":"u_elem_719986385","elemStyle":"","collayouts":[{"colElements":[{"type":"spacer","element":{"id":"u_elem_720139875","height":"35"}}]},{"colElements":[{"id":"u_elem_10255516692425","type":"fields","element":{"valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Total Amount","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Total_Amount","labelTextStyle":""}}]}]}}],"id":1}],"resize":"custom","themeFont":"lato","isHeaderEnabled":false}
				}
				RohanInvoicepdf
				{
							content = {"pageNumberOption":null,"orientation":"null","images":[{"fileName":"","imageId":"","imageType":"","fileId":""}],"imageId":"","isFooterEnabled":false,"containerStyle":"","templateStyle":"text-align: left; width: 793.7px; background-image: none","version":"2","layout":"1","mainLayout":[{"elements":[{"type":"columns","element":{"split":"100","id":"u_elem_4884604300000001","elemStyle":"","collayouts":[{"colElements":[{"type":"text","element":{"id":"u_elem_4884604","fields":[],"content":"<div style=\"background: rgba(0, 0, 0, 0); padding: 0px\"><h1\n      style=\"color: rgb(0, 0, 0); font-weight: 400; font-style: normal; text-align: left\"><font style=\"font-size: 28px\">Your content goes here ..<\/font><\/h1><\/div>"}},{"type":"columns","element":{"split":"38,62","id":"u_elem_4955746300000001","elemStyle":"","collayouts":[{"colElements":[{"id":"u_elem_50186831000000015","type":"fields","element":{"Lookup_Label_Name":"Customer","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Name","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Name","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_4931931","type":"fields","element":{"valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Invoice No","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Invoice_No","labelTextStyle":""}},{"id":"u_elem_4965115300000001","type":"fields","element":{"valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Invoice Date","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Invoice_Date","labelTextStyle":""}}]}]}}]}]}},{"type":"columns","element":{"split":"38,37,25","id":"u_elem_51374901000000015","elemStyle":"","collayouts":[{"colElements":[{"id":"u_elem_5137490","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"S No","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"S_No","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_5148720300000001","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Store","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Store","labelTextStyle":""}}]},{"colElements":[{"id":"u_elem_51664596000000015","type":"fields","element":{"Lookup_Label_Name":"Item_Details","valueStyle":"width: 50%","valueTextStyle":"","fieldLayoutType":"2","labelText":"Items","wrapperStyle":"","labelStyle":"width: 50%","Label_Name":"Items","labelTextStyle":""}}]}]}}],"id":1}],"resize":"a4","themeFont":"lato","isHeaderEnabled":false}
				}
			}
		}
		form Locations
		{
			success message = "Location Added Successfully"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			Name
			(
    			type = text
	 			row = 1
	 			column = 1   
				width = medium
			)
			Books_Location_ID
			(
    			type = text
				displayname = "Books Location ID"
	 			row = 1
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form New_Appointment
		{
			displayname = "New Appointment"
			success message = "Appointment Booked Successfully! We will send the confirmation status in mail."
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			must have Name
			(
    			type = name
     			prefix
     			(
	     			 type = prefix
	     			 displayname ="Prefix"
	     			 visibility = false
	     			 value = {"Mr.","Mrs.","Ms."}
     			) 
     			first_name
     			(
	     			 type = first_name
	     			 displayname ="First Name"
     			) 
     			last_name
     			(
	     			 type = last_name
	     			 displayname ="Last Name"
     			) 
     			suffix
     			(
	     			 type = suffix
	     			 displayname ="Suffix"
	     			 visibility = false
     			) 
	 			row = 1
	 			column = 1   
				width = medium
			)
			must have Mobile_Number
			(
    			type = phonenumber
				displayname = "Mobile Number"
	 			row = 1
	 			column = 1   
				width = medium
			)
			must have Email_Id
			(
    			type = email
				displayname = "Email Id"
	 			row = 1
	 			column = 1   
				width = medium
			)
			Age
			(
				type = number
				maxchar = 3
	 			row = 1
	 			column = 1   
				width = medium
			)
			must have Address
			(
    			type = address
     			capture_coordinates = true
     			adjust_using_map = false
     			address_line_1
     			(
	     			  type = address_line_1
	     			  displayname = "Address Line 1"
     			) 
     			address_line_2
     			(
	     			  type = address_line_2
	     			  displayname = "Address Line 2"
     			) 
     			district_city
     			(
	     			  type = district_city
	     			  displayname = "City / District"
     			) 
     			state_province
     			(
	     			  type = state_province
	     			  displayname = "State Province"
     			) 
     			postal_Code
     			(
	     			  type = postal_Code
	     			  displayname = "Postal Code"
     			) 
     			country
     			(
	     			  type = country
	     			  displayname = "Country"
     			) 
     			latitude
     			(
	     			  type = latitude
	     			  displayname = "latitude"
	     			 visibility = false
     			) 
     			longitude
     			(
	     			  type = longitude
	     			  displayname = "longitude"
	     			 visibility = false
     			) 
	 			row = 1
	 			column = 1   
				width = medium
			)
			must have Appointment_Date_Time
			(
    			type = datetime
				displayname = "Appointment Date-Time"
				timedisplayoptions = "hh:mm:ss"
				alloweddays = 0,1,2,3,4,5,6
	 			row = 1
	 			column = 1   
				width = medium
			)
			Alternative_Date_Time
			(
    			type = datetime
				displayname = "Alternative Date-Time"
				timedisplayoptions = "hh:mm:ss"
				alloweddays = 0,1,2,3,4,5,6
	 			row = 1
	 			column = 1   
				width = medium
			)
			must have First_Time_Visit
			(
				type = radiobuttons
				displayname = "First Time Visit"
				values = {"Yes","No"}
				initial value = "Yes"
				layout = 2
	 			row = 1
	 			column = 1   
				width = 300px
			)
			must have Preferred
			(
				type = radiobuttons
				displayname = "Preferred method of contact"
				values = {"Call","Email","Either"}
				initial value = "Call"
	 			row = 1
	 			column = 1   
				width = 300px
			)
			Comments_if_any
			(
    			type = textarea
				displayname = "Comments (if any)"
				height = 100px
	 			row = 1
	 			column = 1   
				width = medium
			)
			Status
			(
				type = picklist
				values = {"Pending","Confirmed","Cancelled"}
				initial value = "Pending"
	 			row = 1
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Book Now"
					)
					reset
					(
   						type = reset
   						displayname = "Reset"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form Outbound_Form
		{
			displayname = "Outbound Form"
			success message = "Data Added Successfully!"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			must have Module
			(
				type = picklist
				maxchar = 100
				values = {"Invoices","TO"}
	 			row = 1
	 			column = 1   
				width = small
			)
			must have Driver_Name
			(
    			type = text
				displayname = "Driver Name"
	 			row = 1
	 			column = 1   
				width = small
			)
			Invoice_No
			(
				type = picklist
				displayname = "Invoice No"
				maxchar = 100
				values = {""}
	 			row = 1
	 			column = 2   
				width = small
			)
			must have Contact
			(
    			type = phonenumber
	 			row = 1
	 			column = 2   
				width = small
				personal data = true
			)
			TO
			(
				type = picklist
				maxchar = 100
				values = {""}
	 			row = 1
	 			column = 3   
				width = small
			)
			Date_field1
			(
    			type = date
				displayname = "Date"
				initial value = "${zoho.currentdate}"
				alloweddays = 0,1,2,3,4,5,6
	 			row = 1
	 			column = 3   
				width = small
			)
			Item_Details
			(
				type = grid
				displayname = "Item Details"
				auto width = false
				Select
				(
    				type = checkbox
					initial value = false
					width = medium
				)
				S_No
				(
					type = number
					displayname = "S No"
					width = 60px
				)
				Items
				(
    				type = text
					width = 200px
				)
				Quantity
				(
					type = number
					width = 120px
				)
				must have Quantity_Sent
				(
					type = number
					displayname = "Quantity Sent"
					width = 120px
				)
	 			row = 2
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form Price_List
		{
			displayname = "Price List"
			success message = "Price List Added Successfully"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			Location
			(
				type = picklist
				maxchar = 100
				values = {"Choice 1"}
	 			row = 1
	 			column = 1   
				width = small
			)
			Category
			(
				type = picklist
				maxchar = 100
				values = {"Choice 1"}
	 			row = 1
	 			column = 2   
				width = medium
			)
			Item_Details
			(
				type = grid
				displayname = "Item Details"
				auto width = false
				S_No
				(
					type = number
					displayname = "S No"
					width = 70px
				)
				Item_Name
				(
    				type = text
					displayname = "Item Name"
					width = 200px
				)
				Base_Price
				(
					displayname = "Base Price"
					type = INR
					format = commadotindian
					width = 120px
				)
				Available_Quantity
				(
					type = number
					displayname = "Available Quantity"
					width = 140px
				)
				Final_Price
				(
					displayname = "Final Price"
					type = INR
					format = commadotindian
					width = 110px
				)
	 			row = 2
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form SalesPerson_Form
		{
			displayname = "SalesPerson Form"
			success message = "Salesperson Added Successfully"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			Name
			(
    			type = text
	 			row = 1
	 			column = 1   
				width = medium
			)
			Email
			(
    			type = email
				maxchar = 80
	 			row = 1
	 			column = 1   
				width = medium
				personal data = true
			)
			Books_SalesPerson_ID
			(
    			type = text
				displayname = "Books SalesPerson ID"
	 			row = 1
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form TO_Items
		{
			success message = "Data Added Successfully!"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			transfer_order_id
			(
    			type = text
				displayname = "TO ID"
	 			row = 1
	 			column = 1   
				width = medium
			)
			TO_NO
			(
    			type = text
				displayname = "TO NO"
	 			row = 1
	 			column = 1   
				width = medium
			)
			Item_Details
			(
				type = grid
				displayname = "Item Details"
				Decision_box
				(
    				type = checkbox
					displayname = "Decision box"
					initial value = false
					width = medium
				)
				name
				(
    				type = text
					displayname = "Item Name"
					width = medium
				)
				Quantity
				(
					type = number
					width = medium
				)
				UOM
				(
    				type = text
					width = medium
				)
	 			row = 2
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
		form Transfer_Orders
		{
			success message = "Data Added Successfully!"
			Section
			(
				type = section
	 			row = 1
	 			column = 0   
				width = medium
			)
			must have transfer_order_id
			(
    			type = text
				displayname = "Transfer ID"
	 			row = 1
	 			column = 1   
				width = medium
			)
			must have transfer_order_id2
			(
    			type = text
				displayname = "TO NO"
	 			row = 1
	 			column = 1   
				width = medium
			)
			Status
			(
    			type = text
	 			row = 1
	 			column = 1   
				width = medium
			)
			order_date
			(
    			type = date
				displayname = "Date"
				alloweddays = 0,1,2,3,4,5,6
	 			row = 1
	 			column = 1   
				width = medium
			)
			User
			(
    			type = text
	 			row = 1
	 			column = 1   
				width = medium
			)
	
			actions
			{
				on add
				{
					submit
					(
   						type = submit
   						displayname = "Submit"
					)
				}
				on edit
				{
					update
					(
   						type = submit
   						displayname = "Update"
					)
					cancel
					(
   						type = cancel
   						displayname = "Cancel"
					)
				}
			}
		}
	}
	reports
	{
		default list All_Customers
		{
			displayName = "All Customers"
			show all rows from Customer_Form    
			(
				Name
				Phone_Number as "Phone"
				(
					displayformat = plainnumber 
					linktodial = enable
				)
				Email
				Books_Customer_ID as "Books Customer ID"
			)
		}
		default list All_Invoices
		{
			displayName = "All Invoices"
			print template = Invoice_template
			show all rows from Invoice_Form    
			(
				Customer
				Invoice_No as "Invoice No"
				Invoice_Date as "Invoice Date"
				Item_Details.S_No as "Item Details"
				Total_Bag as "Total Bag"
				Subtotal
				Labour_Charge as "Labour Charge"
				Total_Amount as "Total Amount"
				Total_Weight as "Total Weight"
				SalesPerson
				Freight
				Location
				Payment
				Payment_Mode as "Payment Mode"
				Deposit_To as "Deposit To"
				Amount_Received as "Amount Received"
				custom action "View"
				(
	  			workflow = View
				show action in edit record menu = true
				column header = "View"
				)
			)
		}
		default list All_Locations
		{
			displayName = "All Locations"
			show all rows from Locations    
			(
				Name
				Books_Location_ID as "Books Location ID"
			)
		}
		default list All_Salespeople
		{
			displayName = "All Salespeople"
			show all rows from SalesPerson_Form    
			(
				Name
				Email
				Books_SalesPerson_ID as "Books SalesPerson ID"
			)
		}
		default list Books_Items_Report
		{
			displayName = "Books Items Report"
			show all rows from Books_Items    
			(
				UOM
				Unit_Price_Kg as "Unit Price Kg"
				Item_Name as "Item Name"
				Books_Item_ID as "Books Item ID"
			)
		}
		timeline Todays_Appointments
		{
			displayName = "Todays Appointments"
			show all rows from New_Appointment  [Status == "Confirmed"]  
			(
				Name 
	 			(
	      			displayformat = [first_name+""+prefix+""+last_name+""+suffix]
	 			)
				Address 
	 			(
	      			displayformat = [address_line_1+""+address_line_2+""+district_city+""+state_province+""+postal_Code+""+country]
	 			)
				Alternative_Date_Time as "Alternative Date-Time"
				First_Time_Visit as "First Time Visit"
				Preferred as "Preferred method of contact"
				Comments_if_any as "Comments"
				Status
				Age
				Appointment_Date_Time as "Appointment Date-Time"
				Mobile_Number as "Mobile Number"
				Email_Id as "Email Id"
			)
			filters
			(
				First_Time_Visit
			)
			options
			(
				display type = day
				week start day = sunday
				display field = Name
				start date = Appointment_Date_Time
				default date 
				(
	    			day   = Today
	    			month = Currentmonth
	    			year  = Currentyear
				)
			)
		}
		kanban Appointment_Requests
		{
			displayName = "Appointment Requests"
			show all rows from New_Appointment    
			(
				Name 
	 			(
	      			displayformat = [first_name+""+prefix+""+last_name+""+suffix]
	 			)
				Address 
	 			(
	      			displayformat = [address_line_1+""+address_line_2+""+district_city+""+state_province+""+postal_Code+""+country]
	 			)
				Alternative_Date_Time as "Alternative Date-Time"
				First_Time_Visit as "First Time Visit"
				Preferred as "Preferred method of contact"
				Comments_if_any as "Comments"
				Status
				Age
				Appointment_Date_Time as "Appointment Date-Time"
				Mobile_Number as "Mobile Number"
				Email_Id as "Email Id"
			)
			options
			(
	 			display field = Status
				record count  = enable
	 		)
		}
		default list inbound_and_outbound_Report
		{
			displayName = "inbound and outbound Report"
			show all rows from inbound_and_outbound    
			(
				Invoice_Number as "Invoice Number"
				SubForm.Item_Name as "SubForm"
			)
		}
		list Transfer_Orders_Report1
		{
			displayName = "Transfer_Orders_Report"
			show all rows from Transfer_Orders    
			(
				transfer_order_id as "Transfer ID"
				transfer_order_id2 as "TO NO"
				Status
				order_date as "Date"
				User
			)
		}
		default list TO_Items_Report
		{
			displayName = "TO_Items Report"
			show all rows from TO_Items    
			(
				transfer_order_id as "TO ID"
				TO_NO as "TO NO"
				Item_Details.name as "Item Details"
			)
		}
		default list All_Price_Lists
		{
			displayName = "All Price Lists"
			show all rows from Price_List    
			(
				Location
				Category
				Item_Details.S_No as "Item Details"
			)
		}
		default list Inbound_Form_Report
		{
			displayName = "Inbound Form Report"
			show all rows from Inbound_Form    
			(
				Module
				Item_Details.S_No as "Item Details"
				TO
				Driver_Name as "Driver Name"
				Contact
				(
					displayformat = plainnumber 
					linktodial = enable
				)
				Dispatched_Date as "Dispatched Date"
			)
		}
		default list Outbound_Form_Report
		{
			displayName = "Outbound Form Report"
			show all rows from Outbound_Form    
			(
				Module
				Item_Details.S_No as "Item Details"
				Invoice_No as "Invoice No"
				Driver_Name as "Driver Name"
				Contact
				(
					displayformat = plainnumber 
					linktodial = enable
				)
				Date_field1 as "Date"
				TO
			)
		}
	}
	pages
	{
		page Invoice_template
		{
			displayname = "Invoice template"
			Content="<zml    \t\t\n\t\t\n\t\t\n\t\t\n\t\t\n>\n\t<layout>\n\t<row>\n\t<column\n   \t\t width='100%'\n   \t>\n\t<dsp id='html_snippet' elementName='HTML Snippet'\n bgColor=\"#FFFFFF\" \n>\n\t<![CDATA[htmlpage html_snippet()\ncontent\n&lt;%{\n\t%&gt;\n&lt;div&gt;This is a invoice template&lt;/div&gt;\n&lt;%\n\n}%&gt;]]>\n</dsp>\n</column>\n</row>\n</layout>\n</zml>"
		}
		page Transfer_Order
		{
			displayname = "Transfer Order"
			Content="<zml    \n\t\t\tisPdfEnabled='true'\n\t\t\n\t\t\tisPrintEnabled='true'\n\t\t\n\t\t\n\t\t\n\t\t\n>\n\t<layout>\n\t<row>\n\t<column\n   \t\t width='100%'\n   \t>\n\t<panel elementName='Panel'\n \n >\n\t<pr \n\t\t\twidth='fill'\n\t\theight='fill'\n>\n\t<pc \n\t\tpadding = '20px'\n\tbgColor = '#FFFFFF'\n\n\t\twidth = '100%'\n\t\thAlign = 'center'\n\t\tvAlign = 'middle'\n>\n\t<pr \n\t\t\twidth='auto'\n\t\theight='auto'\n>\n\t<pc \n\t\n\t\tvAlign = 'middle'\n>\n\t<button \n\t\tmargin = '0px'\n\tpaddingTop = '12px'\n\tpaddingLeft = '15px'\n\tpaddingRight = '15px'\n\tpaddingBottom = '12px'\n\n    action = 'ExecuteFunction'\n\n\t\tfunctionName = 'Fetch_TransferOrders'  \n\tcolor = 'theme'\n\tsize = '16px'\n    borderColor = 'theme'\n    borderWidth = '1px'\n\ttext ='Fetch Transfer Orders'\n\t\tbgColor = 'transparent'\n            bgColorType = 'noFill'\n\t\tcornerRadius = '3px' \n/>\n</pc>\n</pr>\n</pc>\n</pr>\n</panel>\n</column>\n</row><row>\n\t<column\n   \t\t width='100%'\n   \t>\n\t<report \n\telementName='Report'\n\n\t\tappLinkName = 'thisapp'\n\t\tlinkName = 'Transfer_Orders_Report1'\n\t\n\t\tiszreport = 'false'\n\t\t\t\t\tzc_AddRec = 'false'\n\t\t\t\t\tzc_EditRec = 'false'\n\t\t\t\t\tzc_DuplRec = 'false'\n\t\t\t\t\tzc_EditBulkRec = 'false'\n\t\t\t\t\tzc_BulkDuplicate = 'false'\n\theightType = 'auto'\n\theightValue = '700'\n\n/>\n</column>\n</row>\n</layout>\n</zml>"
		}
		page TO_Item_Details_Page
		{
			displayname = "TO_Item_Details_Page"
			Content="<zml    \t\t\n\t\t\n\t\t\n\t\t\n\t\t\n>\n\t<layout>\n\t<row>\n\t<column\n   \t\t width='100%'\n   \t>\n\t<report \n\telementName='Report'\n\n\t\tappLinkName = 'thisapp'\n\t\tlinkName = 'TO_Items_Report'\n\t\n\t\tiszreport = 'false'\n\t\t\t\t\tzc_AddRec = 'false'\n\t\t\t\t\tzc_EditRec = 'false'\n\t\t\t\t\tzc_DuplRec = 'false'\n\t\t\t\t\tzc_EditBulkRec = 'false'\n\t\t\t\t\tzc_BulkDuplicate = 'false'\n\theightType = 'auto'\n\theightValue = '700'\n\n/>\n</column>\n</row>\n</layout>\n</zml>"
		}
		page Test_page
		{
			displayname = "Test page"
			Content="<zml    \t\t\n\t\t\n\t\t\n\t\t\n\t\t\n>\n\t<layout>\n\t\n</layout>\n</zml>"
		}
		page Logistics_Management
		{
			displayname = "Logistics Management"
			Content="<zml    \t\t\n\t\t\n\t\t\n\t\t\n\t\t\n>\n\t<layout>\n\t<row>\n\t<column\n   \t\t width='50%'\n   \t>\n\t<panel elementName='Panel'\n \n >\n\t<pr \n\t\t\twidth='fill'\n\t\theight='fill'\n>\n\t<pc \n\t\tpadding = '20px'\n\tbgColor = '#FFFFFF'\n\n\t\twidth = '100%'\n\t\tvAlign = 'middle'\n>\n\t<pr \n\t\t\twidth='auto'\n\t\theight='auto'\n>\n\t<pc \n\t\n\t\tvAlign = 'middle'\n>\n\t<button \n\t\tmargin = '0px'\n\tpaddingTop = '12px'\n\tpaddingLeft = '15px'\n\tpaddingRight = '15px'\n\tpaddingBottom = '12px'\n\n    action = 'OpenForm'\n\t\tcomponentLinkName = 'Inbound_Form'\n\t\ttarget = 'new-window'\n\tcolor = 'theme'\n\tsize = '16px'\n    borderColor = 'theme'\n    borderWidth = '1px'\n\ttext ='Inbound'\n\t\tbgColor = 'transparent'\n            bgColorType = 'noFill'\n\t\tcornerRadius = '60px' \n/>\n</pc>\n</pr>\n</pc>\n</pr>\n</panel>\n</column><column\n   \t\t width='50%'\n   \t>\n\t<panel elementName='Panel 1'\n \n >\n\t<pr \n\t\t\twidth='fill'\n\t\theight='fill'\n>\n\t<pc \n\t\tpadding = '20px'\n\tbgColor = '#FFFFFF'\n\n\t\twidth = '100%'\n\t\tvAlign = 'middle'\n>\n\t<pr \n\t\t\twidth='auto'\n\t\theight='auto'\n>\n\t<pc \n\t\n\t\tvAlign = 'middle'\n>\n\t<button \n\t\tmargin = '0px'\n\tpaddingTop = '12px'\n\tpaddingLeft = '15px'\n\tpaddingRight = '15px'\n\tpaddingBottom = '12px'\n\n    action = 'OpenForm'\n\t\tcomponentLinkName = 'Outbound_Form'\n\t\ttarget = 'new-window'\n\tcolor = 'theme'\n\tsize = '16px'\n    borderColor = 'theme'\n    borderWidth = '1px'\n\ttext ='Outbound'\n\t\tbgColor = 'transparent'\n            bgColorType = 'noFill'\n\t\tcornerRadius = '60px' \n/>\n</pc>\n</pr>\n</pc>\n</pr>\n</panel>\n</column>\n</row>\n</layout>\n</zml>"
		}
		page Invoice
		{
			displayname = "Invoice"
			Content="<zml    \n\t\t\tisPdfEnabled='true'\n\t\t\n\t\t\tisPrintEnabled='true'\n\t\t\n\t\t\n\t\t\n\t\t\n>\n\t<layout>\n\t<row>\n\t<column\n   \t\t width='100%'\n   \t>\n\t<form \n\telementName='Form'\n\n\tappLinkName = 'thisapp'\n\tlinkName = 'Invoice_Form'\n\tallowPublicAccess = 'true'\n\theightType = 'auto'\n\theightValue = '150'\n\turlType = 'none'\n\tzc_Header = 'false'\n/> \n</column>\n</row>\n</layout>\n</zml>"
		}
		page Invoice_Template1(int INV_ID)
		{
			displayname = "Invoice Template"
			Content="<zml    \n\t\t\tisPdfEnabled='true'\n\t\t\n\t\t\tisPrintEnabled='true'\n\t\t\n\t\t\n\t\t\twebDeviceConfig='{\"layout\":{\"displayType\":\"plain\",\"design\":\"fluid\",\"style\":\"padding-right:0px;padding-top:0px;padding-bottom:0px;padding-left:0px;\"}}'\n\t\t\n\t\t\n>\n\t<layout>\n\t<row>\n\t<column\n   \t\t width='100%'\n   \t>\n\t<dsp id='html_snippet1' elementName='HTML Snippet'\n bgColor=\"#FFFFFF\" \n>\n\t<![CDATA[htmlpage html_snippet1()\ncontent\n&lt;%{\n\tinv = Invoice_Form[ID == input.INV_ID];\n\t%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Invoice&lt;/title&gt;\n\n    &lt;style&gt;\n        body {\n            font-family: Arial, Helvetica, sans-serif;\n            font-size: 12px;\n            margin: 0;\n            padding: 0;\n            background: #fff;\n        }\n\n        .invoice_template_container {\n            width: 800px;\n            margin: 20px auto;\n            padding: 10px;\n        }\n\n        .invoice_template_center {\n            text-align: center;\n        }\n\n        .invoice_template_right {\n            text-align: right;\n        }\n\n        .invoice_template_left {\n            text-align: left;\n        }\n\n        .invoice_template_bold {\n            font-weight: bold;\n        }\n\n        .invoice_template_small {\n            font-size: 11px;\n        }\n\n        .invoice_template_footer_text {\n            text-align: center;\n            font-style: italic;\n            padding-top: 8px;\n        }\n\n        .invoice_template_no_border {\n            border: none !important;\n        }\n\n        table.invoice_template_table {\n            width: 100%;\n            border-collapse: collapse;\n        }\n\n        table.invoice_template_table th,\n        table.invoice_template_table td {\n            border: 1px solid #000;\n            padding: 6px;\n            vertical-align: middle;\n        }\n\n        table.invoice_template_table th {\n            text-align: center;\n            font-weight: bold;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div class=&quot;invoice_template_container&quot;&gt;\n\n    &lt;!-- Header --&gt;\n    &lt;table class=&quot;invoice_template_table&quot;&gt;\n        &lt;tr&gt;\n            &lt;td class=&quot;invoice_template_no_border invoice_template_center invoice_template_bold&quot; colspan=&quot;2&quot; style=&quot;font-size:16px;&quot;&gt;\n                &lt;%=inv.Invoice_No%&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td class=&quot;invoice_template_no_border invoice_template_center&quot; colspan=&quot;2&quot;&gt;\n                &lt;%=inv.Location%&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;!-- Ledger &amp; Invoice Info --&gt;\n    &lt;table class=&quot;invoice_template_table&quot; style=&quot;border:none;&quot;&gt;\n        &lt;tr&gt;\n            &lt;td width=&quot;60%&quot; class=&quot;invoice_template_bold&quot; style=&quot;border:none;&quot;&gt;\n                LEDGER NAME:- Mr. Rohit Sharma\n            &lt;/td&gt;\n            &lt;td width=&quot;40%&quot; class=&quot;invoice_template_bold&quot; style=&quot;border:none;&quot;&gt;\n                INVOICE NO:- &lt;%=inv.Invoice_No%&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td class=&quot;invoice_template_bold&quot; style=&quot;border:none;&quot;&gt;\n                CUSTOMER ADDRESS:-\n            &lt;/td&gt;\n            &lt;td class=&quot;invoice_template_bold&quot; style=&quot;border:none;&quot;&gt;\n                DATE:- &lt;%=inv.Invoice_Date%&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n\n    &lt;br&gt;\n\n    &lt;!-- Product Table --&gt;\n    &lt;table class=&quot;invoice_template_table&quot;&gt;\n        &lt;tr&gt;\n            &lt;th&gt;S. NO&lt;/th&gt;\n            &lt;th&gt;STORE&lt;/th&gt;\n            &lt;th&gt;PRODUCT NAME&lt;/th&gt;\n            &lt;th&gt;BAGS&lt;/th&gt;\n            &lt;th&gt;LOOSE&lt;br&gt;(In Kgs)&lt;/th&gt;\n            &lt;th&gt;Weight Per Bag&lt;/th&gt;\n            &lt;th&gt;RATE&lt;/th&gt;\n            &lt;th&gt;AMOUNT&lt;/th&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td class=&quot;invoice_template_center&quot;&gt;&lt;%=inv.Item_Details.S_No%&gt;&lt;/td&gt;\n            &lt;td class=&quot;invoice_template_center&quot;&gt;&lt;%=inv.Item_Details.Store%&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;%=inv.Item_Details.Items%&gt; &lt;/td&gt;\n            &lt;td class=&quot;invoice_template_center&quot;&gt;1&lt;/td&gt;\n            &lt;td class=&quot;invoice_template_center&quot;&gt;&lt;%=inv.Total_Bag%&gt;&lt;/td&gt;\n            &lt;td class=&quot;invoice_template_center&quot;&gt;&lt;%=inv.Item_Details.Weight_Per_Bag%&gt;&lt;/td&gt;\n            &lt;td class=&quot;invoice_template_right&quot;&gt;\u20B9600.00&lt;/td&gt;\n            &lt;td class=&quot;invoice_template_right&quot;&gt;&lt;%=inv.Item_Details.Weight_Per_Bag%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td colspan=&quot;3&quot; class=&quot;invoice_template_bold&quot;&gt;TOTAL BAGS:- &lt;%=inv.Total_Bag%&gt;&lt;/td&gt;\n            &lt;td colspan=&quot;3&quot; class=&quot;invoice_template_bold&quot;&gt;TOTAL WEIGHT:- &lt;%=inv.Total_Weight%&gt;(In KG)&lt;/td&gt;\n            &lt;td colspan=&quot;2&quot; class=&quot;invoice_template_bold invoice_template_right&quot;&gt;\n                SUBTOTAL: &lt;%=inv.Subtotal%&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;!-- Remarks &amp; Summary --&gt;\n    &lt;table class=&quot;invoice_template_table&quot;&gt;\n        &lt;tr&gt;\n            &lt;td width=&quot;65%&quot; rowspan=&quot;2&quot;&gt;\n                &lt;span class=&quot;invoice_template_bold&quot;&gt;REMARKS :-&lt;/span&gt; ( IF ANY )\n            &lt;/td&gt;\n            &lt;td width=&quot;35%&quot;&gt;DISCOUNT: 0.00&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;FREIGHT: &lt;%=inv.Freight%&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;span class=&quot;invoice_template_bold&quot;&gt;AMOUNT IN WORD:&lt;/span&gt;\n                Indian Rupee Six Hundred Only\n            &lt;/td&gt;\n            &lt;td&gt;Labour Cost: &lt;%=inv.Labour_Charge%&gt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td class=&quot;invoice_template_bold&quot;&gt;\n                AMOUNT RECEIVED: (-) 0.00\n            &lt;/td&gt;\n            &lt;td class=&quot;invoice_template_bold&quot;&gt;\n                BALANCE: \n\t\t\t\t&lt;%=inv.Invoice_No%&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n\t\t&lt;tr&gt;\n\t\t  &lt;td style=&quot;text-align:center&quot; colspan=&quot;2&quot;&gt;Thank you for choosing Anika Pulses \u201CYour Wholesale Business Partner\u201D&lt;/td&gt;\n\t\t&lt;/tr&gt;\n    &lt;/table&gt;\n\n    &lt;br&gt;\n\n    &lt;!-- Footer --&gt;\n    &lt;div class=&quot;invoice_template_footer_text&quot;&gt;\n        Thank you for choosing Anika Pulses \u201CYour Wholesale Business Partner\u201D\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;%\n\n}%&gt;]]>\n</dsp>\n</column>\n</row>\n</layout>\n</zml>"
		}
	}


		 functions
		 {
			 Deluge
			 {
				 void Fetch_TransferOrders()
                 {
                 	orgID = "60043759810";
                 	connectionName = "internal_zohobooks1";
                 	params = "page=1&per_page=200&status=in_transit";
                 	response = zoho.books.getRecords("transferorders",orgID,params,"internal_zohobooks1");
                 	// 	info response;
                 	transferOrderList = response.get("transfer_orders");
                 	if(transferOrderList != null)
                 	{
                 		for each  toRec in transferOrderList
                 		{
                 			to_id = toRec.get("transfer_order_id");
                 			to_number = toRec.get("transfer_order_number");
                 			to_status = toRec.get("status");
                 			to_date = if(toRec.get("date") != null,toRec.get("date").toDate("yyyy-MM-dd"),null);
                 			info to_number;
                 			// Check if this TO already exists in Creator
                 			existing = Transfer_Orders[transfer_order_id == to_id];
                 			if(existing.count() == 0)
                 			{
                 				// Only insert if not present
                 				insert into Transfer_Orders
                 				[
                 					transfer_order_id=to_id
                 					transfer_order_id2=to_number
                 					Status=to_status
                 					order_date=to_date
                 					Added_User=zoho.loginuser
                 				]
                 				response = zoho.books.getRecords("transferorders/" + to_id.toString(),orgID,params,"internal_zohobooks1");
                 				to_details = response.get("transfer_order");
                 				sf_rows = List();
                 				line_items = to_details.get("line_items");
                 				info line_items;
                 				// 				// 5️⃣ Loop through line items
                 				for each  item in line_items
                 				{
                 					m = Map();
                 					m.put("name",item.get("name"));
                 					m.put("Quantity",item.get("quantity_transfer"));
                 					m.put("UOM",item.get("unit"));
                 					sf_rows.add(m);
                 				}
                 				info "sf_rows: " + sf_rows;
                 				data = {sf_rows};
                 				info "data: " + data;
                 				// 2️⃣ Insert only Master fields into Main Form
                 				newOrder = insert into TO_Items
                 				[
                 					transfer_order_id=to_id
                 					TO_NO=to_number
                 					Added_User=zoho.loginuser
                 				];
                 				// 				newOrder.TO_Items = data;   // <<< Use your exact subform link name
                 				// 				update newOrder;
                 			}
                 		}
                 	}
                 	// return "Success";
                 	openUrl("#Page:Transfer_Order","same window");
                 }
				 list getRecords()
                 {
                 	orgID = "60043759810";
                 	connectionName = "internal_zohobooks1";
                 	params = "page=1&per_page=2000&status=in_transit";
                 	response = zoho.books.getRecords("transferorders",orgID,params,"internal_zohobooks1");
                 	// 	info response;
                 	transferOrderList = List();
                 	transferOrders = response.get("transfer_orders");
                 	for each  rec in transferOrders
                 	{
                 		to_no = rec.get("transfer_order_number");
                 		transferOrderList.add(to_no);
                 	}
                 	// 	info transferOrderList;
                 	return transferOrderList;
                 }
				 void syncBooksCustomers()
                 {
                 	try 
                 	{
                 		orgID = "60043759810";
                 		connectionName = "internal_zohobooks1";
                 		params = "page=1&per_page=200";
                 		response = zoho.books.getRecords("contacts","60043759810",params,"internal_zohobooks1");
                 		info "Books Response: " + response;
                 		if(response.containKey("contacts"))
                 		{
                 			contacts = response.get("contacts");
                 			for each  contact_record in contacts
                 			{
                 				if(contact_record.get("contact_type") == "customer")
                 				{
                 					name_val = contact_record.get("customer_name");
                 					email_val = contact_record.get("email");
                 					phone_val = contact_record.get("phone");
                 					books_id_val = contact_record.get("contact_id");
                 					existing = Customer_Form[Books_Customer_ID == books_id_val];
                 					if(existing.count() > 0)
                 					{
                 						existing.Name=name_val;
                 						existing.Email=email_val;
                 						existing.Phone_Number=phone_val;
                 					}
                 					else
                 					{
                 						insert into Customer_Form
                 						[
                 							Name=name_val
                 							Phone_Number=phone_val
                 							Email=email_val
                 							Books_Customer_ID=books_id_val
                 							Added_User=zoho.loginuser
                 						]
                 					}
                 				}
                 			}
                 			// 			info "Customer Form synced successfully.";
                 		}
                 		else
                 		{
                 			info "No contacts found in Zoho Books.";
                 		}
                 	}
                 	catch (e)
                 	{
                 		info "Error while syncing customers: " + e.toString();
                 	}
                 }
				 void syncBooksItems()
                 {
                 	try 
                 	{
                 		orgID = "60043759810";
                 		connectionName = "internal_zohobooks1";
                 		params = "page=1&per_page=200";
                 		response = zoho.books.getRecords("items",orgID,params,"internal_zohobooks1");
                 		info "responseee::: " + response;
                 		// 		per_page = 1;
                 		// 		page = 1;
                 		// 		info "per_page & page: " + per_page + " & " + page;
                 		// 		params2 = "page=" + page + "&per_page=" + per_page;
                 		// 		info "params2 " + params2;
                 		// 		response2 = zoho.books.getRecords("items",orgID, params2,"internal_zohobooks1");
                 		// 		page_context = response2.get("page_context");
                 		// 		has_more_page = ifnull(page_context.get("has_more_page"), false);
                 		// 		info "Has More Page: " + has_more_page;
                 		// 		if(has_more_page == true){
                 		// 			response2 = zoho.books.getRecords("items",orgID, params2,"internal_zohobooks1");
                 		// 			page = page + 1;
                 		// 			info "page increased " + page;
                 		// 			return;
                 		// 		}
                 		all_items = response.get("items");
                 		for each  record in all_items
                 		{
                 			item_id = ifnull(record.get("item_id"),"");
                 			name = ifnull(record.get("item_name"),"");
                 			rate = ifnull(record.get("rate"),0.0);
                 			if(rate == 0.0)
                 			{
                 				rate = ifnull(record.get("cf_unit_price_unformatted"),0.0);
                 			}
                 			uom = ifnull(record.get("unit"),"");
                 			existing = Books_Items[Books_Item_ID == item_id];
                 			if(existing.count() > 0)
                 			{
                 				info "existing count " + existing.count();
                 				existing.Item_Name=name;
                 				existing.Unit_Price_Kg=rate;
                 				existing.UOM=uom;
                 				info "code to update the existing record";
                 			}
                 			else
                 			{
                 				insert into Books_Items
                 				[
                 					Item_Name=name
                 					Books_Item_ID=item_id
                 					Unit_Price_Kg=rate
                 					UOM=uom
                 					Added_User=zoho.loginuser
                 				]
                 				info "New record is created::: ";
                 			}
                 		}
                 	}
                 	catch (e)
                 	{
                 		info "Error while syncing books items: " + e.toString();
                 	}
                 }
				 void syncBooksLocation()
                 {
                 	try 
                 	{
                 		orgID = "60043759810";
                 		connectionName = "internal_zohobooks1";
                 		params = "page=1&per_page=200";
                 		response = zoho.books.getRecords("locations","60043759810",params,"internal_zohobooks1");
                 		info "Books Response: " + response;
                 		if(response.containKey("locations"))
                 		{
                 			locations = response.get("locations");
                 			for each  location_record in locations
                 			{
                 				location_name_value = location_record.get("location_name");
                 				books_location_id_value = location_record.get("location_id");
                 				existing_record = Locations[Books_Location_ID == books_location_id_value];
                 				if(existing_record.count() > 0)
                 				{
                 					existing_record.Name=location_name_value;
                 				}
                 				else
                 				{
                 					insert into Locations
                 					[
                 						Name=location_name_value
                 						Books_Location_ID=books_location_id_value
                 						Added_User=zoho.loginuser
                 					]
                 				}
                 			}
                 			info "Locations synced successfully.";
                 		}
                 		else
                 		{
                 			info "No locations found in zohobooks.";
                 		}
                 	}
                 	catch (e)
                 	{
                 		info "Error while syncing locations: " + e.toString();
                 	}
                 }
				 void syncBooksSalesPerson()
                 {
                 	try 
                 	{
                 		orgID = "60043759810";
                 		connectionName = "internal_zohobooks1";
                 		params = "page=1&per_page=200";
                 		response = zoho.books.getRecords("salespersons","60043759810",params,"internal_zohobooks1");
                 		info "Books response:: " + response;
                 		if(response.containKey("data"))
                 		{
                 			data = response.get("data");
                 			for each  record in data
                 			{
                 				sales_person_name_value = record.get("salesperson_name");
                 				sales_person_email_value = record.get("salesperson_email");
                 				books_id_value = record.get("salesperson_id");
                 				existing_record = SalesPerson_Form[Books_SalesPerson_ID == books_id_value];
                 				if(existing_record.count() > 0)
                 				{
                 					existing_record.Name=sales_person_name_value;
                 					existing_record.Email=sales_person_email_value;
                 				}
                 				else
                 				{
                 					insert into SalesPerson_Form
                 					[
                 						Name=sales_person_name_value
                 						Email=sales_person_email_value
                 						Books_SalesPerson_ID=books_id_value
                 						Added_User=zoho.loginuser
                 					]
                 				}
                 			}
                 			info "Salespersons synced successfully.";
                 		}
                 		else
                 		{
                 			info "NO sales person found in zoho books.";
                 		}
                 	}
                 	catch (e)
                 	{
                 		info "Error while syncing sales person: " + e.toString();
                 	}
                 }
			 }
		 }
		workflow
		{
		form
		{
			Auto_Fill_Price_and_UOM as "Auto Fill Price and UOM"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Item_Details.Items
				{
					actions 
					{
						custom deluge script
						(
											orgID = "60043759810";
										header_location_value = ifnull(input.Location,"");
										info "Location Header Level ============= " + header_location_value;
										header_location_id = "";
										location_params = "page=1&per_page=200";
										location_response = zoho.books.getRecords("locations",orgID,location_params,"internal_zohobooks1");
										location_name = "";
										all_item_ids = List();
										for each  record in input.Item_Details
										{
											if(record.Items != null)
											{
												if(record.Unit_Price == null || record.Unit_Price == 0)
												{
													itemRec = Books_Items[ID == record.Items];
													if(itemRec != null)
													{
														for each  records in itemRec
														{
															item_id = records.Books_Item_ID;
															all_item_ids.add(item_id);
															response = zoho.books.getRecordsByID("Items",orgID,item_id,"internal_zohobooks1");
														}
														record.Unit_Price=itemRec.Unit_Price_Kg;
														storeChoices = list();
														uomChoices = list();
														if(response.containKey("item"))
														{
															all_locations = response.get("item").get("locations");
															active_locations = List();
															for each  location_record in all_locations
															{
																if(location_record.get("status") == "active")
																{
																	active_locations.add(location_record);
																}
															}
															for each  location_record in active_locations
															{
																location_name = location_record.get("location_name");
																if(location_response.containKey("locations"))
																{
																	all_locs = location_response.get("locations");
																	for each  loc_record in all_locs
																	{
																		if(header_location_value == loc_record.get("location_name"))
																		{
																			header_location_id = loc_record.get("location_id");
																		}
																		if(loc_record.get("location_name") == location_name)
																		{
																			if((loc_record.get("type") == "line_item_only" && loc_record.get("parent_location_id") == header_location_id) || (loc_record.get("type") == "general" && loc_record.get("location_id") == header_location_id))
																			{
																				displayValue = location_record.get("location_name") + " — (" + location_record.get("location_available_stock").toString() + response.get("item").get("unit") + ")";
																				storeChoices.add(displayValue);
																			}
																		}
																	}
																}
															}
															unit = response.get("item").get("unit");
															unit_conversions_list = response.get("item").get("unit_conversions");
															if(unit != null && unit != "")
															{
																uomChoices.add(unit);
															}
															for each  conversion_record in unit_conversions_list
															{
																target_unit = conversion_record.get("target_unit");
																if(target_unit != null && target_unit != "")
																{
																	uomChoices.add(target_unit);
																}
															}
															record.UOM:ui.add(uomChoices);
															if(unit_conversions_list.size() > 0)
															{
																first_conversion = unit_conversions_list.get(0);
																record.UOM=first_conversion.get("target_unit");
																record.Weight_Per_Bag=first_conversion.get("conversion_rate");
															}
															else
															{
																record.UOM=unit;
																record.Weight_Per_Bag=1;
															}
														}
														if(storeChoices.size() > 0)
														{
															record.Store:ui.add(storeChoices);
														}
														else
														{
															record.Store:ui.add(header_location_value);
														}
														if(record.Weight_Per_Bag != null)
														{
															disable row.Loose;
														}
														else
														{
															enable row.Loose;
														}
													}
												}
											}
											else
											{
												record.Unit_Price=null;
												record.Item_Price=null;
												record.Weight_Per_Bag=null;
												record.Loose=null;
												record.Quantity=null;
												record.Store:ui.add("");
												record.UOM:ui.add("");
												enable row.Weight_Per_Bag;
												enable row.Quantity;
												enable row.Loose;
											}
										}
						)
					}
				}

			}
			Serial_Number as "Serial Number"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on add row of Item_Details
				{
					actions 
					{
						custom deluge script
						(
											count = 0;
										for each  record in input.Item_Details
										{
											count = count + 1;
											record.S_No=count;
										}
						)
					}
				}

			}
			Calculate_Total_Amount_On as "Calculate Total Amount On Labour Charge"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Labour_Charge
				{
					actions 
					{
						custom deluge script
						(
											subtotal = input.Subtotal;
										labour = input.Labour_Charge;
										freight = input.Freight;
										if(subtotal == null)
										{
											subtotal = 0.0;
										}
										if(labour == null)
										{
											labour = 0.0;
										}
										if(freight == null)
										{
											freight = 0.0;
										}
										input.Total_Amount = round(subtotal + labour + freight,2);
										input.Amount_Received = round(subtotal + labour + freight,2);
						)
					}
				}

			}
			Create_Invoice_in_Zoho_Bo as "Create Invoice in Zoho Books"
			{
				type =  form
				form = Invoice_Form

				record event = on add

				on success
				{
					actions 
					{
						custom deluge script
						(
											orgID = "60043759810";
										customer_id = "";
										if(input.Customer != null)
										{
											contact_id = input.Customer.Books_Customer_ID;
											if(contact_id == null || contact_id == "")
											{
												info "Selected customer is missing Books Customer ID";
											}
											customer_id = contact_id;
											customer_value = input.Customer.Name;
										}
										else
										{
											info "Please select a customer ";
										}
										sales_person_email = zoho.loginuserid;
										info "sales_person_email_zoho_loginuserid " + sales_person_email;
										salespersonparams = "page=1&per_page=200";
										salesperson_response = zoho.books.getRecords("salespersons",orgID,salespersonparams,"internal_zohobooks1");
										matched_sales_person_id = "";
										if(salesperson_response.get("code") == 0)
										{
											salesperson_list = salesperson_response.get("data");
											for each  sp_record in salesperson_list
											{
												if(sp_record.get("salesperson_email") != null && sp_record.get("salesperson_email").toLowerCase() == sales_person_email.toLowerCase())
												{
													matched_salesperson_id = sp_record.get("salesperson_id");
													break;
												}
											}
										}
										info "matched_sales_person_id " + matched_salesperson_id;
										location_value = ifnull(input.Location,"");
										location_params = "page=1&per_page=2000";
										location_response = zoho.books.getRecords("locations",orgID,location_params,"internal_zohobooks1");
										info "location_response " + location_response;
										location_id = "";
										if(location_response.containKey("locations"))
										{
											for each  location_record in location_response.get("locations")
											{
												if(location_record.get("location_name") == location_value)
												{
													location_id = location_record.get("location_id");
													break;
												}
											}
										}
										invoice_date = ifnull(input.Invoice_Date,zoho.currentdate);
										line_items = List();
										inactive_items = List();
										for each  record in input.Item_Details
										{
											if(record.Items != null && record.Unit_Price != null)
											{
												li = Map();
												li.put("item_id",record.Items.Books_Item_ID);
												rate = 0;
												if(record.Weight_Per_Bag != null)
												{
													rate = record.Unit_Price * ifnull(record.Weight_Per_Bag,1);
												}
												if(record.Loose != null)
												{
													rate = record.Unit_Price;
												}
												// 		rate = record.Unit_Price_Kg * ifnull(record.Bharti,1) * ifnull(record.Loose,1);
												// 		li.put("rate",record.Unit_Price_Kg);
												li.put("rate",rate);
												quantity = 0;
												if(record.Weight_Per_Bag != null)
												{
													quantity = record.Quantity;
												}
												if(record.Loose != null)
												{
													quantity = record.Loose;
												}
												// 		li.put("quantity",record.Quantity);
												li.put("quantity",quantity);
												item_cf_list = List();
												if(record.Store != null)
												{
													store_value = record.Store;
													info "================store_value===================== " + store_value;
													position = store_value.indexOf(" — ");
													if(position != -1)
													{
														store_value = store_value.subString(0,position);
														info "----------store_value---------------" + store_value;
													}
													line_location_id = "";
													line_location_value = store_value;
													if(location_response.containKey("locations"))
													{
														for each  location_record in location_response.get("locations")
														{
															if(location_record.get("location_name") == line_location_value)
															{
																line_location_id = location_record.get("location_id");
																break;
															}
														}
													}
													if(line_location_id != "")
													{
														info "================line_location_id=============== " + line_location_id;
														li.put("location_id",line_location_id);
													}
													store_map = Map();
													store_map.put("label","Store");
													// 			store_map.put("value",record.Store);
													store_map.put("value",store_value);
													item_cf_list.add(store_map);
												}
												unit_price_map = Map();
												unit_price_map.put("label","Unit Price/KG");
												unit_price_map.put("value",record.Unit_Price);
												item_cf_list.add(unit_price_map);
												if(record.Weight_Per_Bag != null)
												{
													bharti_map = Map();
													bharti_map.put("label","Bharti");
													bharti_map.put("value",record.Weight_Per_Bag);
													item_cf_list.add(bharti_map);
													bag_map = Map();
													bag_map.put("label","Bags");
													bag_map.put("value",ifnull(record.Quantity,0));
													item_cf_list.add(bag_map);
												}
												if(record.Loose != null)
												{
													loose_map = Map();
													loose_map.put("label","Loose");
													loose_map.put("value",record.Loose);
													item_cf_list.add(loose_map);
												}
												if(record.UOM != null)
												{
													uom_map = Map();
													uom_map.put("label","UOM");
													uom_map.put("value",record.UOM.toString());
													item_cf_list.add(uom_map);
												}
												if(item_cf_list.size() > 0)
												{
													li.put("item_custom_fields",item_cf_list);
												}
												line_items.add(li);
											}
										}
										cf_list = List();
										cf_map = Map();
										cf_map.put("label","Total Bags");
										cf_map.put("value",ifnull(input.Total_Bag,0));
										cf_list.add(cf_map);
										cf_map_weight = Map();
										cf_map_weight.put("label","Total Weight");
										cf_map_weight.put("value",ifnull(input.Total_Weight,0));
										cf_list.add(cf_map_weight);
										info "DEBUG: input.Total_Bag = " + input.Total_Bag;
										info "DEBUG: custom_fields being sent = " + cf_list.toString();
										info "DEBUG: input.Total_Weight = " + input.Total_Weight;
										info "DEBUG: custom_fields being sent = " + cf_list.toString();
										invoice_no_after_invoice_creation = "";
										if(!line_items.isEmpty())
										{
											invoice_map = Map();
											invoice_map.put("customer_id",customer_id);
											invoice_map.put("date",invoice_date);
											invoice_map.put("line_items",line_items);
											invoice_map.put("notes","Invoice Created from Zoho Creator");
											invoice_map.put("location_id",location_id);
											invoice_map.put("shipping_charge",ifnull(input.Freight,0));
											invoice_map.put("adjustment",ifnull(input.Labour_Charge,0));
											invoice_map.put("adjustment_description","Labour Charge");
											invoice_map.put("custom_fields",cf_list);
											invoice_map.put("cf_total_bags",toLong(ifnull(input.Total_Bag,0)));
											invoice_map.put("cf_total_weight",toLong(ifnull(input.Total_Weight,0)));
											invoice_map.put("salesperson_id",matched_sales_person_id);
											response_after_invoice_creation = zoho.books.createRecord("invoices",orgID,invoice_map,"internal_zohobooks1");
											info "response_after_invoice_creation " + response_after_invoice_creation;
											invoice_id = "";
											if(response_after_invoice_creation.containKey("invoice"))
											{
												invoice_data = response_after_invoice_creation.get("invoice");
												input.Invoice_No = invoice_data.get("invoice_number");
												invoice_no_after_invoice_creation = invoice_data.get("invoice_number");
												invoice_id = invoice_data.get("invoice_id");
												if(invoice_id != "" && input.Payment == "I have received the payment")
												{
													deposit_to_account_id = "";
													if(input.Deposit_To != null)
													{
														deposit_to_value = input.Deposit_To;
														deposit_to_value = deposit_to_value.trim();
														coa_params = "page=1&per_page=2000";
														coa_resp = zoho.books.getRecords("chartofaccounts",orgID,coa_params,"internal_zohobooks1");
														if(coa_resp.containKey("chartofaccounts"))
														{
															for each  acc in coa_resp.get("chartofaccounts")
															{
																if(acc.get("account_name") == deposit_to_value)
																{
																	deposit_to_account_id = acc.get("account_id");
																	break;
																}
															}
														}
													}
													payment_map = Map();
													payment_map.put("customer_id",customer_id);
													payment_map.put("payment_mode",input.Payment_Mode);
													payment_map.put("amount",input.Amount_Received);
													payment_map.put("date",invoice_date);
													if(deposit_to_account_id != "")
													{
														payment_map.put("deposit_to_account_id",deposit_to_account_id);
													}
													invoices_list = List();
													inv_map = Map();
													inv_map.put("invoice_id",invoice_id);
													inv_map.put("amount_applied",input.Amount_Received);
													invoices_list.add(inv_map);
													payment_map.put("invoices",invoices_list);
													payment_response = zoho.books.createRecord("customerpayments",orgID,payment_map,"internal_zohobooks1");
													// 			info "payment_responseee " + payment_response;
												}
											}
											// 	info "invoice_id " + invoice_id;
											token_url = "https://accounts.zoho.in/oauth/v2/token";
											client_id = "1000.RWK99OIJQIYPKB8WMPLT1YCM0142LL";
											client_secret = "cf93079323600910dc24b6c9eab80617f8767b900b";
											redirect_uri = "https://www.zoho.in";
											access_token = "1000.d5480557209f58a0922d0b6032884124.c07b6733fde16efe94dc63b1109c2d80";
											refresh_token = "1000.fce4cc10a11894e3c2d1de6012c77137.1d715c0168e50c13ffa852d3294c7f01";
											headers_data = Map();
											headers_data.put("Authorization","Zoho-oauthtoken " + access_token);
											// 	info "access token";
											response = invokeurl
											[
												url :"https://www.zohoapis.in/books/v3/invoices/print?organization_id=" + orgID + "&invoice_ids=" + invoice_id
												type :GET
												headers:headers_data
												connection:"internal_zohobooks1"
											];
											invoice_file_without_base64 = response;
											printUrl = "https://books.zoho.in/app/" + orgID + "#/invoices/" + invoice_id + "?filter_by=Status.All&per_page=200&sort_column=created_time&sort_order=D";
											openUrl(printUrl,"new window");
											pdf_b64 = zoho.encryption.base64Encode(response);
											info "=============pdf_64==================" + pdf_b64;
											pdf_file = pdf_b64.toFile("Invoice_" + invoice_no_after_invoice_creation + ".pdf");
											info "=============pdf_file=============" + pdf_file;
											folder_id = "vn19ved95ceb138054b13b0cf6f6b0522eef1";
											zohodrive_response = zoho.workdrive.uploadFile(invoice_file_without_base64,folder_id,"Invoice_" + invoice_no_after_invoice_creation + ".pdf",false,"zoho_workdrive_connection");
											info "zohodrive_response====== " + zohodrive_response;
											data_list = ifnull(zohodrive_response.get("data"),list());
											download_url = "";
											file_id = "";
											data_list = ifnull(zohodrive_response.get("data"),list());
											download_url = "";
											if(data_list != null && data_list.size() > 0)
											{
												attrs = ifnull(data_list.get(0).get("attributes"),Map());
												download_url = ifnull(attrs.get("Permalink"),"");
											}
											if(download_url != "")
											{
												openUrl(download_url,"new window");
											}
											// 	fileURL = row.Invoice.get("download_url");
											// 	info "==== fileURL ===== " + fileURL;
											// 	openUrl(fileURL, "new window");
											// 	fileURL2 = input.Invoice.get("download_url");
											// 	info "==== fileURL2 ====== " + fileURL2;
											// 	openUrl(fileURL2, "new window");
											// 	invoice_record = insert into Invoice_Form
											// 	[
											// 	Invoice = pdf_file
											// 	];
											// 	info "invoice_record  " + invoice_record;
											// 	data_url = "data:application/pdf;base64," + pdf_b64;
											// 	openUrl(data_url,"new window");
											// 	info "pdf raw response " + response;
											if(response.toString().contains("INVALID_OAUTH") || response.toString().contains("AUTHENTICATION_FAILURE"))
											{
												info "when access token expired";
												param_map = Map();
												param_map.put("grant_type","refresh_token");
												param_map.put("client_id",client_id);
												param_map.put("client_secret",client_secret);
												param_map.put("refresh_token",refresh_token);
												zohoauth_response = invokeurl
												[
													url :token_url
													type :POST
													parameters:param_map
												];
												new_access_token = zohoauth_response.get("access_token");
												if(new_access_token != null)
												{
													access_token = new_access_token;
													headers_data.put("Authorization","Zoho-oauthtoken " + access_token);
													response = invokeurl
													[
														url :"https://www.zohoapis.com/books/v3/invoices/print?organization_id=" + orgID + "&invoice_ids=" + invoice_id
														type :GET
														headers:headers_data
														connection:"internal_zohobooks1"
													];
													printUrl = "https://books.zoho.in/app/" + orgID + "#/invoices/" + invoice_id + "?filter_by=Status.All&per_page=200&sort_column=created_time&sort_order=D";
													openUrl(printUrl,"new window");
												}
											}
										}
										// ====================================================================================================================================================
										// orgID = "60043759810";
										// customer_id = "";
										// if(input.Customer != null)
										// {
										// 	contact_id = input.Customer.Books_Customer_ID;
										// 	if(contact_id == null || contact_id == "")
										// 	{
										// 		info "Selected customer is missing Books Customer ID";
										// 	}
										// 	customer_id = contact_id;
										// 	customer_value = input.Customer.Name;
										// }
										// else
										// {
										// 	info "Please select a customer ";
										// }
										// sales_person_email = zoho.loginuserid;
										// salespersonparams = "page=1&per_page=200";
										// salesperson_response = zoho.books.getRecords("salespersons",orgID,salespersonparams,"internal_zohobooks1");
										// matched_sales_person_id = "";
										// if(salesperson_response.get("code") == 0)
										// {
										// 	salesperson_list = salesperson_response.get("data");
										// 	for each  sp_record in salesperson_list
										// 	{
										// 		if(sp_record.get("salesperson_email") != null && sp_record.get("salesperson_email").toLowerCase() == sales_person_email.toLowerCase())
										// 		{
										// 			matched_sales_person_id = sp_record.get("salesperson_id");
										// 			break;
										// 		}
										// 	}
										// }
										// location_value = ifnull(input.Location,"");
										// location_params = "page=1&per_page=2000";
										// location_response = zoho.books.getRecords("locations",orgID,location_params,"internal_zohobooks1");
										// location_id = "";
										// if(location_response.containKey("locations"))
										// {
										// 	for each  location_record in location_response.get("locations")
										// 	{
										// 		if(location_record.get("location_name") == location_value)
										// 		{
										// 			location_id = location_record.get("location_id");
										// 			break;
										// 		}
										// 	}
										// }
										// invoice_date = ifnull(input.Invoice_Date,zoho.currentdate);
										// line_items = List();
										// for each  record in input.Item_Details
										// {
										// 	if(record.Items != null && record.Unit_Price != null)
										// 	{
										// 		li = Map();
										// 		li.put("item_id",record.Items.Books_Item_ID);
										// 		rate = 0;
										// 		if(record.Weight_Per_Bag != null)
										// 		{
										// 			rate = record.Unit_Price * ifnull(record.Weight_Per_Bag,1);
										// 		}
										// 		if(record.Loose != null)
										// 		{
										// 			rate = record.Unit_Price;
										// 		}
										// 		li.put("rate",rate);
										// 		quantity = 0;
										// 		if(record.Weight_Per_Bag != null)
										// 		{
										// 			quantity = record.Quantity;
										// 		}
										// 		if(record.Loose != null)
										// 		{
										// 			quantity = record.Loose;
										// 		}
										// 		li.put("quantity",quantity);
										// 		line_items.add(li);
										// 	}
										// }
										// cf_list = List();
										// cf_map = Map();
										// cf_map.put("label","Total Bags");
										// cf_map.put("value",ifnull(input.Total_Bag,0));
										// cf_list.add(cf_map);
										// cf_map_weight = Map();
										// cf_map_weight.put("label","Total Weight");
										// cf_map_weight.put("value",ifnull(input.Total_Weight,0));
										// cf_list.add(cf_map_weight);
										// invoice_no_after_invoice_creation = "";
										// invoice_id = "";
										// if(!line_items.isEmpty())
										// {
										// 	invoice_map = Map();
										// 	invoice_map.put("customer_id",customer_id);
										// 	invoice_map.put("date",invoice_date);
										// 	invoice_map.put("line_items",line_items);
										// 	invoice_map.put("location_id",location_id);
										// 	invoice_map.put("custom_fields",cf_list);
										// 	invoice_map.put("salesperson_id",matched_sales_person_id);
										// 	response_after_invoice_creation = zoho.books.createRecord("invoices",orgID,invoice_map,"internal_zohobooks1");
										// 	if(response_after_invoice_creation.containKey("invoice"))
										// 	{
										// 		invoice_data = response_after_invoice_creation.get("invoice");
										// 		invoice_id = invoice_data.get("invoice_id");
										// 		input.Invoice_No = invoice_data.get("invoice_number");
										// 		invoice_no_after_invoice_creation = invoice_data.get("invoice_number");
										// 	}
										// 	// =========================
										// 	// ✅ FIXED PRINT LOGIC START
										// 	// =========================
										// 	if(invoice_id != "")
										// 	{
										// 		invoiceDetails = zoho.books.getRecordsByID("invoices",orgID,invoice_id,"internal_zohobooks1");
										// 		if(invoiceDetails.containKey("invoice"))
										// 		{
										// 			pdf_url = invoiceDetails.get("invoice").get("pdf_url");
										// 			if(pdf_url != null && pdf_url != "")
										// 			{
										// 				openUrl(pdf_url,"new window");
										// 				// PRINT WORKS HERE
										// 			}
										// 		}
										// 	}
										// }
						)
					}
				}

			}
			Sync_Customers_From_Zoho_ as "Sync Customers From Zoho Books"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											params = "page=1&per_page=200";
											response = zoho.books.getRecords("contacts","60043759810",params,"internal_zohobooks1");
											if(response.containKey("contacts"))
											{
												contacts = response.get("contacts");
												for each  contact_record in contacts
												{
													if(contact_record.get("contact_type") == "customer")
													{
														name_val = contact_record.get("customer_name");
														email_val = contact_record.get("email");
														phone_val = contact_record.get("phone");
														books_id_val = contact_record.get("contact_id");
														existing = Customer_Form[Books_Customer_ID == books_id_val];
														if(existing.count() > 0)
														{
															existing.Name=name_val;
															existing.Email=email_val;
															existing.Phone_Number=phone_val;
														}
														else
														{
															insert into Customer_Form
															[
																Name=name_val
																Phone_Number=phone_val
																Email=email_val
																Books_Customer_ID=books_id_val
																Added_User=zoho.loginuser
															]
														}
													}
												}
												// 			info "Customer Form synced successfully.";
											}
											else
											{
												info "No contacts found in Zoho Books.";
											}
										}
										catch (e)
										{
											info "Error while syncing customers: " + e.toString();
										}
						)
					}
				}

			}
			Sync_Zoho_Books_Items as "Sync Zoho Books Items"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											pageIterationList = {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25};
											for each  page in pageIterationList
											{
												params = "page=" + page.toString() + "&per_page=200";
												// 		params = "page=1&per_page=200";
												response = zoho.books.getRecords("items",orgID,params,"internal_zohobooks1");
												// 		info "responseee::: " + response;
												all_items = response.get("items");
												for each  record in all_items
												{
													item_id = ifnull(record.get("item_id"),"");
													name = ifnull(record.get("item_name"),"");
													rate = ifnull(record.get("rate"),0.0);
													if(rate == 0.0)
													{
														rate = ifnull(record.get("cf_unit_price_unformatted"),0.0);
													}
													uom = ifnull(record.get("unit"),"");
													existing = Books_Items[Books_Item_ID == item_id];
													if(existing.count() > 0)
													{
														// 				info "existing count " + existing.count();
														existing.Item_Name=name;
														existing.Unit_Price_Kg=rate;
														existing.UOM=uom;
														// 				info "code to update the existing record";
													}
													else
													{
														insert into Books_Items
														[
															Item_Name=name
															Books_Item_ID=item_id
															Unit_Price_Kg=rate
															UOM=uom
															Added_User=zoho.loginuser
														]
														// 				info "New record is created::: ";
													}
												}
												page_context = response.get("page_context");
												has_more_page = ifnull(page_context.get("has_more_page"),false);
												// 		info "has_more_page " + has_more_page;
												if(has_more_page == false)
												{
													// 			info "loop-breaks";
													break;
												}
											}
											// 		per_page = 1;
											// 		page = 1;
											// 		info "per_page & page: " + per_page + " & " + page;
											// 		params2 = "page=" + page + "&per_page=" + per_page;
											// 		info "params2 " + params2;
											// 		response2 = zoho.books.getRecords("items",orgID, params2,"internal_zohobooks1");
											// 		page_context = response2.get("page_context");
											// 		has_more_page = ifnull(page_context.get("has_more_page"), false);
											// 		info "Has More Page: " + has_more_page;
											// 		if(has_more_page == true){
											// 			response2 = zoho.books.getRecords("items",orgID, params2,"internal_zohobooks1");
											// 			page = page + 1;
											// 			info "page increased " + page;
											// 			return;
											// 		}
											// 	currentUser = zoho.loginuser;
											// 	input.SalesPerson2 = currentUser;
										}
										catch (e)
										{
											info "Error while syncing books items: " + e.toString();
										}
						)
					}
				}

			}
			Sync_Zoho_Books_Locations as "Sync Zoho Books Locations"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											// try 
										// {
										// 	orgID = "60043759810";
										// 	connectionName = "internal_zohobooks1";
										// 	params = "page=1&per_page=200";
										// 	response = zoho.books.getRecords("locations","60043759810",params,"internal_zohobooks1");
										// 	info "Books Response: " + response;
										// 	if(response.containKey("locations"))
										// 	{
										// 		locations = response.get("locations");
										// 		for each  location_record in locations
										// 		{
										// 			location_name_value = location_record.get("location_name");
										// 			books_location_id_value = location_record.get("location_id");
										// 			existing_record = Locations[Books_Location_ID == books_location_id_value];
										// 			if(existing_record.count() > 0)
										// 			{
										// 				existing_record.Name=location_name_value;
										// 			}
										// 			else
										// 			{
										// 				insert into Locations
										// 				[
										// 					Name=location_name_value
										// 					Books_Location_ID=books_location_id_value
										// 					Added_User=zoho.loginuser
										// 				]
										// 			}
										// 		}
										// 		info "Locations synced successfully.";
										// 	}
										// 	else
										// 	{
										// 		info "No locations found in zohobooks.";
										// 	}
										// }
										// catch (e)
										// {
										// 	info "Error while syncing locations: " + e.toString();
										// }
										// try 
										// {
										// 	orgID = "60043759810";
										// 	connectionName = "internal_zohobooks1";
										// 	params = "page=1&per_page=2000";
										// 	response = zoho.books.getRecords("locations","60043759810",params,"internal_zohobooks1");
										// 	info "Books Response: " + zoho.loginuserid;
										// 	if(response.containKey("locations"))
										// 	{
										// 		locations = response.get("locations");
										// 		for each  location_record in locations
										// 		{
										// 			location_email = location_record.get("email");
										// 			info "location_email " + location_email;
										// 			if(location_email == zoho.loginuserid)
										// 			{
										// 				location_name_value = location_record.get("location_name");
										// 				location_name_list.add(location_name_value);
										// 				info "location_name_value " + location_name_value;
										// 				books_location_id_value = location_record.get("location_id");
										// 				existing_record = Locations[Books_Location_ID == books_location_id_value];
										// 				if(existing_record.count() > 0)
										// 				{
										// 					existing_record.Name=location_name_value;
										// 				}
										// 				else
										// 				{
										// 					insert into Locations
										// 					[
										// 						Name=location_name_value
										// 						Books_Location_ID=books_location_id_value
										// 						Added_User=zoho.loginuser
										// 					]
										// 				}
										// 			}
										// 		}
										// 	}
										// 	else
										// 	{
										// 		info "No locations found in zohobooks.";
										// 	}
										// }
										// catch (e)
										// {
										// 	info "Error while syncing locations: " + e.toString();
										// }
										try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											params = "page=1&per_page=2000";
											response = zoho.books.getRecords("locations",orgID,params,"internal_zohobooks1");
											login_user_email = zoho.loginuserid;
											location_name_list = List();
											if(response.containKey("locations"))
											{
												locations = response.get("locations");
												info "locationsssssssssss " + locations.size();
												for each  location_record in locations
												{
													location_email = location_record.get("email");
													is_location_active = location_record.get("is_location_active");
													type = location_record.get("type");
													if(is_location_active == true && type != "line_item_only")
													{
														// 			if(is_location_active == true && type != "line_item_only" && login_user_email == location_email)
														location_name_value = location_record.get("location_name");
														location_name_list.add(location_name_value);
														books_location_id_value = location_record.get("location_id");
														// 				existing_record = Locations[Books_Location_ID == books_location_id_value];
														// 				if(existing_record.count() > 0)
														// 				{
														// 					existing_record.Name=location_name_value;
														// 				}
														// 				else
														// 				{
														// 					insert into Locations
														// 					[
														// 						Name=location_name_value
														// 						Books_Location_ID=books_location_id_value
														// 						Added_User=zoho.loginuser
														// 					]
														// 				}
														if(locations.size() == 1)
														{
															input.Location:ui.add(location_name_list);
															input.Location = location_name_list.get(0);
															disable Location;
														}
														else
														{
															input.Location:ui.add(location_name_list);
															enable Location;
														}
													}
												}
												// 		input.Location:ui.add(location_name_list);
											}
											else
											{
												info "No locations found in zohobooks.";
											}
										}
										catch (e)
										{
											info "Error while syncing locations: " + e.toString();
										}
						)
					}
				}

			}
			Sync_Zoho_Books_SalesPers as "Sync Zoho Books SalesPerson"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											params = "page=1&per_page=2000";
											response = zoho.books.getRecords("salespersons",orgID,params,"internal_zohobooks1");
											// 	info "Books response:: " + response;
											if(response.containKey("data"))
											{
												data = response.get("data");
												for each  record in data
												{
													sales_person_name_value = record.get("salesperson_name");
													info "data================= " + data;
													info "sales_person_name_value====== " + sales_person_name_value;
													sales_person_email_value = record.get("salesperson_email");
													books_id_value = record.get("salesperson_id");
													existing_record = SalesPerson_Form[Books_SalesPerson_ID == books_id_value];
													if(existing_record.count() > 0)
													{
														existing_record.Name=sales_person_name_value;
														existing_record.Email=sales_person_email_value;
													}
													else
													{
														insert into SalesPerson_Form
														[
															Name=sales_person_name_value
															Email=sales_person_email_value
															Books_SalesPerson_ID=books_id_value
															Added_User=zoho.loginuser
														]
													}
												}
												info "Salespersons synced successfully.";
											}
											else
											{
												info "NO sales person found in zoho books.";
											}
										}
										catch (e)
										{
											info "Error while syncing sales person: " + e.toString();
										}
						)
					}
				}

			}
			Run_Scripts_While_Adding_1 as "Run Scripts - While Adding a Record"
			{
				type =  form
				form = New_Appointment

				record event = on add

				on validate
				{
					actions 
					{
						custom deluge script
						(
											//validate given appointment booking time to be a future date
										if(input.Appointment_Date_Time <= zoho.currenttime || input.Alternative_Date_Time <= zoho.currenttime)
										{
											alert "Please enter a valid future date!";
											cancel submit;
										}
						)
					}
				}

			}
			Notification_Mail_on_Stat as "Notification Mail on Status Updation"
			{
				type =  form
				form = New_Appointment

				record event = on edit

				on update of Status
				{
					actions 
					{
						custom deluge script
						(
											//Send confirmation mail to user
										if(input.Status == "Confirmed")
										{
											sendmail
											[
												from :zoho.adminuserid
												to :input.Email_Id
												subject :"Appointment Confirmation Mail"
												message :"Greetings,<div>&nbsp;</div><div>&nbsp; Your appointment has been successfully confirmed.</div><div><br></div><div>&nbsp; Please find the details here,</div><div><br></div><div>&nbsp; &nbsp;Name :" + input.Name + "</div><div><br></div><div>&nbsp; &nbsp;Appointment Time :" + input.Appointment_Date_Time + "</div><div><br></div><div>&nbsp; &nbsp;Mobile Number : " + input.Mobile_Number + "</div><div><br></div><div>&nbsp; &nbsp;Email : " + input.Email_Id + "</div><div><br></div><div>&nbsp; &nbsp;Preferred Contact Method : " + input.Preferred + "</div><div>&nbsp;&nbsp;</div><div><br></div><div>Thanks and Regards,</div><div>" + zoho.adminuser + "</div>"
											]
										}
										//Send cancellation mail to user
										else if(input.Status == "Cancelled")
										{
											sendmail
											[
												from :zoho.adminuserid
												to :input.Email_Id
												subject :"Appointment Cancellation Mail"
												message :"<div><span>Hi,</span></div><div><br></div><span>We regret to inform you that we have cancelled your appointment.&nbsp;</span><div><br><div><span>Please find your appointment details here,</span></div><div><div><br></div><div>&nbsp; &nbsp;Name :" + input.Name + "</div><div><br></div><div>&nbsp; &nbsp;Appointment Time :" + input.Appointment_Date_Time + "</div><div><br></div><div>&nbsp; &nbsp;Mobile Number : " + input.Mobile_Number + "</div><div><br></div><div>&nbsp; &nbsp;Email : " + input.Email_Id + "</div><div><br></div><div>&nbsp; &nbsp;Preferred Contact Method : " + input.Preferred + "</div><div>&nbsp;&nbsp;</div></div><div><span>Sorry for the inconvenience caused.</span><span><br><br></span><div><span>Regards,</span></div><div><span>" + zoho.adminuser + "</span></div></div></div>"
											]
										}
						)
					}
				}

			}
			Run_Scripts_On_Always1 as "Run Scripts - On Always"
			{
				type =  form
				form = New_Appointment

				record event = on add or edit

				field rules
				{
					actions 
					{
						hide Status;
					}
				}

			}
			Run_Scripts_On_Always2 as "Run Scripts - On Always"
			{
				type =  form
				form = New_Appointment

				record event = on add or edit

				on validate
				{
					actions 
					{
						custom deluge script
						(
											//Validate given age value
										if(input.Age <= 0)
										{
											alert "Please enter a valid age!";
											cancel submit;
										}
						)
					}
				}

			}
			Run_Scripts_On_Always3 as "Run Scripts - On Always"
			{
				type =  form
				form = New_Appointment

				record event = on add or edit

				on user input of Age
				{
					actions 
					{
						custom deluge script
						(
											//Validate given age value
										if(input.Age <= 0)
										{
											alert "Please enter a valid age!";
										}
						)
					}
				}

			}
			Run_Scripts_On_Always4 as "Run Scripts - On Always"
			{
				type =  form
				form = New_Appointment

				record event = on add or edit

				on user input of Appointment_Date_Time
				{
					actions 
					{
						custom deluge script
						(
											//validate given appointment booking time to be a future date
										if(input.Appointment_Date_Time <= zoho.currenttime)
										{
											alert "Please enter a valid future date!";
										}
						)
					}
				}

			}
			Run_Scripts_On_Always5 as "Run Scripts - On Always"
			{
				type =  form
				form = New_Appointment

				record event = on add or edit

				on user input of Alternative_Date_Time
				{
					actions 
					{
						custom deluge script
						(
											//validate given appointment booking time to be a future date
										if(input.Alternative_Date_Time <= zoho.currenttime)
										{
											alert "Please enter a valid future date!";
										}
						)
					}
				}

			}
			Disable_Loose_when_Bharti as "Disable Loose when Bharti is entered"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Item_Details.Weight_Per_Bag
				{
					actions 
					{
						custom deluge script
						(
											if(row.Weight_Per_Bag != null)
										{
											row.Loose=null;
											disable row.Loose;
										}
										else
										{
											enable row.Loose;
										}
						)
					}
				}

			}
			Disable_Weight_Per_Bag_Qu as "Disable Weight Per Bag Quantity when Loose entered"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Item_Details.Loose
				{
					actions 
					{
						custom deluge script
						(
											if(row.Loose != null)
										{
											row.Weight_Per_Bag=null;
											disable row.Weight_Per_Bag;
											row.Quantity=null;
											disable row.Quantity;
										}
										else
										{
											enable row.Weight_Per_Bag;
											enable row.Quantity;
										}
						)
					}
				}

			}
			Calculate_Item_Price_Subt as "Calculate Item Price Subtotal Total - Bharti "
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Item_Details.Weight_Per_Bag
				{
					actions 
					{
						custom deluge script
						(
											totalWeight = 0;
										if(row.Unit_Price != null && row.Quantity != null && row.Weight_Per_Bag != null)
										{
											effectiveBhartiValue = if(row.Weight_Per_Bag == null,1,row.Weight_Per_Bag);
											row.Item_Price=row.Unit_Price * effectiveBhartiValue * row.Quantity;
										}
										subtotalAmount = 0;
										for each  record in input.Item_Details
										{
											if(record.Item_Price != null)
											{
												subtotalAmount = subtotalAmount + record.Item_Price;
											}
											bhartiValue = ifnull(record.Weight_Per_Bag,0);
											quantityValue = ifnull(record.Quantity,0);
											looseValue = ifnull(record.Loose,0);
											totalWeight = totalWeight + bhartiValue * quantityValue + looseValue;
										}
										input.Total_Weight = totalWeight;
										input.Subtotal = subtotalAmount;
										// input.Total_Amount = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0)).round(2);
										input.Total_Amount = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0) + ifnull(input.Freight,0)).round(2);
										input.Amount_Received = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0) + ifnull(input.Freight,0)).round(2);
						)
					}
				}

			}
			Calculate_Item_Price_Subt1 as "Calculate Item Price Subtotal Total - Loose"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Item_Details.Loose
				{
					actions 
					{
						custom deluge script
						(
											if(row.Unit_Price != null && row.Loose != null)
										{
											effectiveLooseValue = if(row.Loose == null,1,row.Loose);
											row.Item_Price=row.Unit_Price * effectiveLooseValue;
										}
										subtotalAmount = 0;
										totalWeight = 0;
										for each  record in input.Item_Details
										{
											if(record.Item_Price != null)
											{
												subtotalAmount = subtotalAmount + record.Item_Price;
											}
											bhartiValue = ifnull(record.Weight_Per_Bag,0);
											quantityValue = ifnull(record.Quantity,0);
											looseValue = ifnull(record.Loose,0);
											totalWeight = totalWeight + bhartiValue * quantityValue + looseValue;
										}
										input.Total_Weight = totalWeight;
										input.Subtotal = subtotalAmount;
										// input.Total_Amount = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0)).round(2);
										input.Total_Amount = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0) + ifnull(input.Freight,0)).round(2);
										input.Amount_Received = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0) + ifnull(input.Freight,0)).round(2);
						)
					}
				}

			}
			Calc_Item_Price_Subtotal_ as "Calc Item Price Subtotal Total - Unit Price Kg"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Item_Details.Unit_Price
				{
					actions 
					{
						custom deluge script
						(
											if(row.Unit_Price != null && row.Quantity != null && row.Weight_Per_Bag != null)
										{
											effectiveBhartiValue = if(row.Weight_Per_Bag == null,1,row.Weight_Per_Bag);
											row.Item_Price=row.Unit_Price * effectiveBhartiValue * row.Quantity;
										}
										else if(row.Unit_Price != null && row.Loose != null)
										{
											effectiveLooseValue = if(row.Loose == null,1,row.Loose);
											row.Item_Price=row.Unit_Price * effectiveLooseValue;
										}
										subtotalAmount = 0;
										for each  record in input.Item_Details
										{
											if(record.Item_Price != null)
											{
												subtotalAmount = subtotalAmount + record.Item_Price;
											}
										}
										input.Subtotal = subtotalAmount;
										input.Total_Amount = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0) + ifnull(input.Freight,0)).round(2);
										input.Amount_Received = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0) + ifnull(input.Freight,0)).round(2);
						)
					}
				}

			}
			Calculate_Item_Price_Subt2 as "Calculate Item Price Subtotal Total - Quantity"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Item_Details.Quantity
				{
					actions 
					{
						custom deluge script
						(
											if(row.Unit_Price != null && row.Quantity != null && row.Weight_Per_Bag != null)
										{
											effectiveBhartiValue = if(row.Weight_Per_Bag == null,1,row.Weight_Per_Bag);
											row.Item_Price=row.Unit_Price * effectiveBhartiValue * row.Quantity;
										}
										subtotalAmount = 0;
										totalQuantity = 0;
										totalWeight = 0;
										for each  record in input.Item_Details
										{
											if(record.Item_Price != null)
											{
												subtotalAmount = subtotalAmount + record.Item_Price;
											}
											if(record.Quantity != null)
											{
												totalQuantity = totalQuantity + record.Quantity;
											}
											bhartiValue = ifnull(record.Weight_Per_Bag,0);
											quantityValue = ifnull(record.Quantity,0);
											looseValue = ifnull(record.Loose,0);
											totalWeight = totalWeight + bhartiValue * quantityValue + looseValue;
										}
										input.Total_Weight = totalWeight;
										input.Total_Bag = totalQuantity;
										input.Subtotal = subtotalAmount;
										// input.Total_Amount = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0)).round(2);
										input.Total_Amount = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0) + ifnull(input.Freight,0)).round(2);
										input.Amount_Received = (ifnull(input.Subtotal,0) + ifnull(input.Labour_Charge,0) + ifnull(input.Freight,0)).round(2);
						)
					}
				}

			}
			Disable_fields_when_UOM_i as "Disable fields when UOM is selected"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Item_Details.UOM
				{
					actions 
					{
						custom deluge script
						(
											uom = row.UOM;
										if(uom != null && uom.toLowerCase() == "kg")
										{
											disable row.Weight_Per_Bag;
											disable row.Quantity;
											enable row.Loose;
										}
										else if(uom != null && uom.toLowerCase() != "kg")
										{
											enable row.Weight_Per_Bag;
											enable row.Quantity;
											disable row.Loose;
										}
										else
										{
											enable row.Weight_Per_Bag;
											enable row.Quantity;
											enable row.Loose;
										}
						)
					}
				}

			}
			Display_SalesPerson_and_d1 as "Display SalesPerson and disable fields"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											// input.SalesPerson = zoho.loginuserid;
										input.SalesPerson = zoho.loginuser;
										disable SalesPerson;
										// orgID = "60043759810";
										// salesperson_params = "page=1&per_page=2000";
										// salesperson_response = zoho.books.getRecords("salespersons",orgID,salesperson_params,"internal_zohobooks1");
										// if(salesperson_response.containKey("data"))
										// {
										// 	data = salesperson_response.get("data");
										// 	for each  record in data
										// 	{
										// 		sales_person_email_value = record.get("salesperson_email");
										// 		sales_person_name = record.get("salesperson_name");
										// 		if(sales_person_email_value == zoho.loginuserid)
										// 		{
										// 			input.SalesPerson = sales_person_name;			
										// 		}
										// 	}
										// }
										// disable SalesPerson;
						)
					}
				}

			}
			Display_Invoice_no_wrt_lo as "Display Invoice no wrt location"
			{
				type =  form
				form = Invoice_Form

				record event = on add
					status = inactive

				on user input of Location
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											params = "page=1&per_page=2000";
											response = zoho.books.getRecords("invoices",orgID,params,"internal_zohobooks1");
											selectedLocation = input.Location;
											info "selected location " + input.Location;
											last_invoice_no = "";
											default_invoice = "No invoice created for this location";
											if(response.containKey("invoices"))
											{
												all_invoice_details = response.get("invoices");
												if(all_invoice_details.size() > 0)
												{
													for each  invoice_record in all_invoice_details
													{
														if(invoice_record.get("location_name") == selectedLocation)
														{
															last_invoice_no = invoice_record.get("invoice_number");
															info "last_invoice_no: " + last_invoice_no;
															break;
														}
													}
												}
											}
											if(last_invoice_no == "" || last_invoice_no == null)
											{
												input.Invoice_No = default_invoice;
												return;
											}
											numbers = last_invoice_no.replaceAll("[^0-9]","");
											prefix = last_invoice_no.replaceAll("[0-9]","");
											new_no = numbers.toLong() + 1;
											difference = numbers.length() - new_no.toString().length();
											info "aaaaaaaaaaaaaaaa " + difference;
											leadingZeros = "";
											if(difference > 0)
											{
												leadingZeros = "0".repeat(difference);
											}
											new_no_padded = leadingZeros + new_no.toString();
											next_invoice_no = prefix + new_no_padded;
											info "Next Invoice No: " + next_invoice_no;
											input.Invoice_No = next_invoice_no;
										}
										catch (e)
										{
											info "Error in displaying invoice no: " + e.toString();
										}
						)
					}
				}

			}
			Disable_Invoice_No as "Disable Invoice No"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											disable Invoice_No;
						)
					}
				}

			}
			Disable_Invoice_Date as "Disable Invoice Date"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											disable Invoice_Date;
						)
					}
				}

			}
			Fetch_details as "Fetch details"
			{
				type =  form
				form = inbound_and_outbound

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											orgID = "60043759810";
										connectionName = "internal_zohobooks1";
										// params = "page=1&per_page=200";
										params = Map();
										params.put("page","1");
										params.put("per_page","200");
										response = zoho.inventory.getRecords("transferorders",orgID,params,"internal_zohobooks1");
										info response;
						)
					}
				}

			}
			Hide_Payment_Details_Sect as "Hide Payment Details Section"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											hide Payment_Details;
						)
					}
				}

			}
			Show_Payment_Details_When as "Show Payment Details When Checkbox is selected"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Payment
				{
					actions 
					{
						custom deluge script
						(
											if(input.Payment.toString() == "I have received the payment")
										{
											show Payment_Details;
										}
										else
										{
											hide Payment_Details;
										}
										try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											params = "page=1&per_page=2000";
											chartofaccounts_response = zoho.books.getRecords("chartofaccounts",orgID,params,"internal_zohobooks1");
											accounts_list = chartofaccounts_response.get("chartofaccounts");
											filtered_account_lists = list();
											filtered_account_name_lists = list();
											for each  record in accounts_list
											{
												account_type = record.get("account_type");
												account_name = record.get("account_name");
												if(account_name.containsIgnoreCase("Undeposited Funds"))
												{
													continue;
												}
												// 		if(account_type == "bank" || account_type == "cash" || account_type == "other_current_liability")
												if(account_type == "bank" || account_type == "cash")
												{
													filtered_account_lists.add(record);
													// 			filtered_account_name_lists.add(account_name);
													filtered_account_name_lists.add(account_name + " (" + account_type + ")");
												}
											}
											info "filtered_account_lists " + filtered_account_name_lists;
											input.Deposit_To:ui.add(filtered_account_name_lists);
										}
										catch (e)
										{
											info "Error while syncing chartofaccounts: " + e.toString();
										}
						)
					}
				}

			}
			Calculate_Total_Amount_On1 as "Calculate Total Amount On Freight"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Freight
				{
					actions 
					{
						custom deluge script
						(
											subtotal = input.Subtotal;
										freight = input.Freight;
										labour_charge = input.Labour_Charge;
										if(subtotal == null)
										{
											subtotal = 0.0;
										}
										if(freight == null)
										{
											freight = 0.0;
										}
										if(labour_charge == null)
										{
											labour_charge = 0.0;
										}
										input.Total_Amount = round(subtotal + freight + labour_charge,2);
										input.Amount_Received = round(subtotal + freight + labour_charge,2);
						)
					}
				}

			}
			Sync_all_locations_from_b as "Sync all locations from books"
			{
				type =  form
				form = Price_List

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											// try 
										// {
										// 	orgID = "60043759810";
										// 	connectionName = "internal_zohobooks1";
										// 	params = "page=1&per_page=200";
										// 	response = zoho.books.getRecords("locations",orgID,params,"internal_zohobooks1");
										// 	location_name_list = List();
										// 	if(response.containKey("locations"))
										// 	{
										// 		locations = response.get("locations");
										// 		for each  location_record in locations
										// 		{
										// 			location_email = location_record.get("email");
										// 			is_location_active = location_record.get("is_location_active");
										// 			type = location_record.get("type");
										// 			if(is_location_active == true && type != "line_item_only")
										// 			{
										// 				location_name_value = location_record.get("location_name");
										// 				location_name_list.add(location_name_value);
										// 			}
										// 		}
										// 		input.Location:ui.add(location_name_list);
										// 	}
										// 	else
										// 	{
										// 		info "No locations found in zohobooks.";
										// 	}
										// }
										// catch (e)
										// {
										// 	info "Error while syncing locations: " + e.toString();
										// }
										try 
										{
											disable Category;
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											location_name_list = List();
											count = 1;
											pageIterationList = {count};
											// 	pageIterationList = {1, 2};
											for each  page_no in pageIterationList
											{
												count = count + 1;
												pageIterationList = {count};
												params = "page=" + page_no + "&per_page=200";
												response = zoho.books.getRecords("locations",orgID,params,"internal_zohobooks1");
												if(response.containKey("locations"))
												{
													locations = response.get("locations");
													for each  location_record in locations
													{
														location_email = location_record.get("email");
														is_location_active = location_record.get("is_location_active");
														type = location_record.get("type");
														if(is_location_active == true && type != "line_item_only")
														{
															location_name_value = location_record.get("location_name");
															location_name_list.add(location_name_value);
														}
													}
												}
												if(response.containKey("page_context") && response.get("page_context").get("has_more_page") == false)
												{
													break;
												}
											}
											if(location_name_list.size() > 0)
											{
												input.Location:ui.add(location_name_list);
											}
											else
											{
												info "No locations found in zohobooks.";
											}
										}
										catch (e)
										{
											info "Error while syncing locations: " + e.toString();
										}
						)
					}
				}

			}
			User_input_of_a_Location as "User input of a Location"
			{
				type =  form
				form = Price_List

				record event = on add or edit

				on user input of Location
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											info "input.Location=============== " + input.Location;
											if(input.Location == null || input.Location == "")
											{
												disable Category;
												input.Category = null;
												input.Item_Details.clear();
												info "NO Details from API";
											}
											else
											{
												info "Details from API";
												enable Category;
												category_name_list = List();
												count = 1;
												pageIterationList = {count};
												// 	pageIterationList = {1, 2};
												for each  page_no in pageIterationList
												{
													count = count + 1;
													pageIterationList = {count};
													params = "page=" + page_no + "&per_page=200";
													response = zoho.books.getRecords("categories",orgID,params,"internal_zohobooks1");
													if(response.containKey("categories"))
													{
														all_items_list = response.get("categories");
														for each  item_record in all_items_list
														{
															if(item_record.get("parent_category_id") == "-1")
															{
																category_name = item_record.get("name");
																category_name_list.add(category_name);
															}
														}
													}
													if(response.containKey("page_context") && response.get("page_context").get("has_more_page") == false)
													{
														break;
													}
												}
												input.Category:ui.add(category_name_list);
											}
											// 	per_page = 200;
											//     location_id = "";
											//     pageIterationList = {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20};
											// 	selected_location_id = "";
											// 	for each page in pageIterationList
											//     {
											// 		params = "page=" + page + "&per_page=" + per_page;
											//         location_response = zoho.books.getRecords("locations", orgID, params, "internal_zohobooks1");
											// 		if(location_response.containKey("locations"))
											//         {
											//             locations = location_response.get("locations");
											//             if(locations.size() == 0)
											//             {
											//                 break;
											//             }
											//             for each location_record in locations
											//             {
											//                 is_active = location_record.get("is_location_active");
											//                 type = location_record.get("type");
											//                 name = location_record.get("location_name");
											//                 if(is_active == true && type != "line_item_only" && name == input.Location)
											//                 {
											//                     location_id = location_record.get("location_id");
											// 					selected_location_id = location_id;
											//                     info "Selected Location ID : " + location_id;
											//                     break;
											//                 }
											//             }
											//             if(location_id != "")
											//             {
											//                 break;
											//             }
											//         }
											//         else
											//         {
											//             break;
											//         }
											// 	}
											// 	per_page = 200;
											//     active_item_ids = List();
											//     pageIterationList = {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20};
											// 	for each page in pageIterationList
											//     {
											//         params2 = "page=" + page + "&per_page=" + per_page;
											//         all_items_response = zoho.books.getRecords("items", orgID, params2, "internal_zohobooks1");
											// 		page_context = all_items_response.get("page_context");
											// 		has_more_page = ifnull(page_context.get("has_more_page"),false);
											//         if(all_items_response.containKey("items"))
											//         {
											//             items_list = all_items_response.get("items");
											//             if(items_list.size() == 0)
											//             {
											//                 break;
											//             }
											//             for each item_record in items_list
											//             {
											//                 item_status = item_record.get("status");
											//                 if(item_status == "active")
											//                 {
											//                     active_item_ids.add(item_record.get("item_id"));
											//                 }
											//             }
											//         }
											//         if(has_more_page==false)
											//         {
											//             break;
											//         }
											//     }
											// 	info "active_item_ids " + active_item_ids;
											// 	all_item_details = List();
											// 	for each item_id in active_item_ids
											// 	{
											// 		item_details = zoho.books.getRecordsByID("items", orgID, item_id, "internal_zohobooks1");
											//         all_item_details.add(item_details);
											// 	}
											// 	for each record in all_item_details
											// 	{
											// 		item_map = record.get("item");
											//     	location_list = item_map.get("locations");
											// 		for each location in location_list
											//     	{
											// 			if(location.get("location_id") == selected_location_id)
											// 			{
											// 				row = Map();
											// 				row.put("Item_Name", item_map.get("name"));
											// 				row.put("Base_Price", ifnull(item_map.get("sales_rate"),0));
											// 				row.put("Available_Quantity", ifnull(location.get("location_available_stock"),0));
											// 				row_collection = Collection();
											// 				row_collection.insert(row);
											// 				input.Item_Details.insert(row_collection);
											// 				break;
											// 			}
											// 			info "aaaaaaaa";
											// 		}
											// 	}
										}
										catch (e)
										{
											info "Error : " + e.toString();
										}
						)
					}
				}

			}
			User_input_of_a_Location1 as "User input of a Location"
			{
				type =  form
				form = Invoice_Form

				record event = on add or edit

				on user input of Location
				{
					actions 
					{
						custom deluge script
						(
											// try
										// {
										// 	orgID = "60043759810";
										// 	all_item_ids = List();
										// 	header_location_value = ifnull(input.Location, "");
										// 	info "Location Header Level----------------------------- ============= " + header_location_value;
										// 	header_location_id = "";
										// 	storeChoices = List();
										// 	location_params = "page=1&per_page=200";
										// 	location_response = zoho.books.getRecords("locations",orgID,location_params,"internal_zohobooks1");
										// 	for each record in input.Item_Details
										// 	{
										// 		if(record.Items != null)
										// 		{
										// 			itemRecord = Books_Items[ID == record.Items];
										// 			for each item_record in itemRecord
										// 			{
										// 				item_id = item_record.Books_Item_ID;
										// 				all_item_ids.add(item_id);
										// 			}
										// 		}
										// 	}
										// 	info "all_item_idssssssssssssssssssss " + all_item_ids;
										// 	token_url = "https://accounts.zoho.in/oauth/v2/token";
										// 	client_id = "1000.RWK99OIJQIYPKB8WMPLT1YCM0142LL";
										// 	client_secret = "cf93079323600910dc24b6c9eab80617f8767b900b";
										// 	redirect_uri = "https://www.zoho.in";
										// 	access_token = "1000.22cb89cc9049d4891de6330aee588260.8cb0c942ad5e97564346d59c2d30b128";
										// 	refresh_token = "1000.a486a1e2f43e0deb24b74373788fa0a6.fa39fb32d13edfb3b14bb0d7cd957d3c";
										// 	headers_data = Map();
										// 	headers_data.put("Authorization","Zoho-oauthtoken " + access_token);
										// 	bulk_fetch_item_details_response = invokeUrl
										// 	[
										// 		url: "https://www.zohoapis.in/books/v3/itemdetails?item_ids="+all_item_ids+"&organization_id=" + orgID
										// 		type: GET
										// 		headers: headers_data
										// 		connection: "internal_zohobooks1"
										// 	];
										// 	info "bulk_fetch_item_details_responseeee=================== " + bulk_fetch_item_details_response;
										// }
										// catch(e)
										// {
										// 	info "Error in input of a location " + e.toString();
										// }
										if(input.Location != null)
										{
											input.Item_Details.clear();
										}
						)
					}
				}

			}
			User_input_of_a_Category as "User input of a Category"
			{
				type =  form
				form = Price_List

				record event = on add or edit

				on user input of Category
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											selected_location_value = ifnull(input.Location,"");
											selected_location_id = "";
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											count = 1;
											pageIterationList = {count};
											for each  page_no in pageIterationList
											{
												count = count + 1;
												pageIterationList = {count};
												location_params = "page=" + page_no + "&per_page=200";
												location_response = zoho.books.getRecords("locations",orgID,location_params,"internal_zohobooks1");
												if(location_response.containKey("locations"))
												{
													locations = location_response.get("locations");
													for each  location_record in locations
													{
														is_location_active = location_record.get("is_location_active");
														type = location_record.get("type");
														if(is_location_active == true && type != "line_item_only")
														{
															if(selected_location_value == location_record.get("location_name"))
															{
																selected_location_id = location_record.get("location_id");
																break;
															}
														}
													}
												}
												if((location_response.containKey("page_context") && location_response.get("page_context").get("has_more_page") == false) || selected_location_id != "")
												{
													break;
												}
											}
											info "selected location id================= " + selected_location_id;
											selected_category = input.Category;
											all_active_item_ids = List();
											itemCount = 1;
											pageIterationListForItem = {itemCount};
											for each  page_no in pageIterationListForItem
											{
												itemCount = itemCount + 1;
												pageIterationListForItem = {itemCount};
												items_params = "page=" + page_no + "&per_page=200";
												all_items_response = zoho.books.getRecords("items",orgID,items_params,"internal_zohobooks1");
												// 		info "all_items_responseeeeeeeeee ==========> " + all_items_response;
												if(all_items_response.containKey("items"))
												{
													items_list = all_items_response.get("items");
													for each  item_record in items_list
													{
														item_status = item_record.get("status");
														if(item_status == "active")
														{
															all_active_item_ids.add(item_record.get("item_id"));
														}
													}
												}
												if(all_items_response.containKey("page_context") && all_items_response.get("page_context").get("has_more_page") == false)
												{
													break;
												}
											}
											info "all_active_item_ids================= " + all_active_item_ids;
											token_url = "https://accounts.zoho.in/oauth/v2/token";
											client_id = "1000.RWK99OIJQIYPKB8WMPLT1YCM0142LL";
											client_secret = "cf93079323600910dc24b6c9eab80617f8767b900b";
											redirect_uri = "https://www.zoho.in";
											access_token = "1000.22cb89cc9049d4891de6330aee588260.8cb0c942ad5e97564346d59c2d30b128";
											refresh_token = "1000.a486a1e2f43e0deb24b74373788fa0a6.fa39fb32d13edfb3b14bb0d7cd957d3c";
											headers_data = Map();
											headers_data.put("Authorization","Zoho-oauthtoken " + access_token);
											bulk_fetch_item_details_response = invokeurl
											[
												url :"https://www.zohoapis.in/books/v3/itemdetails?item_ids=" + all_active_item_ids + "&organization_id=" + orgID
												type :GET
												headers:headers_data
												connection:"internal_zohobooks1"
											];
											info "bulk_fetch_item_details_responseeee=================== " + bulk_fetch_item_details_response;
											matched_location_items = null;
											if(bulk_fetch_item_details_response.containKey("items"))
											{
												items = bulk_fetch_item_details_response.get("items");
												for each  item_record in items
												{
													if(item_record.containKey("locations"))
													{
														locations = item_record.get("locations");
														for each  location_record in locations
														{
															if(location_record.get("location_id") == selected_location_id)
															{
																// 						matched_location_items = location_record;
																matched_location_items = item_record;
																// 						break;
															}
														}
													}
													// 			if(matched_location_items != null)
													// 			{
													// 				break;
													// 			}
												}
											}
											info "matched_location_items========================= " + matched_location_items;
										}
										catch (e)
										{
											info "Error while syncing locations: " + e.toString();
										}
						)
					}
				}

			}
			User_input_of_a_Module_in as "User input of a Module in Outbound"
			{
				type =  form
				form = Outbound_Form

				record event = on add or edit

				on user input of Module
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											if(input.Module != "Invoices" && input.Module != "TO")
											{
												disable Invoice_No;
												disable TO;
												input.Item_Details.clear();
											}
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											all_records = List();
											filtered_invoice_numbers = List();
											filtered_transfer_order = List();
											if(input.Module == "Invoices")
											{
												input.Item_Details.clear();
												enable Invoice_No;
												disable TO;
												count = 1;
												// 	pageIterationList = {1};
												pageIterationList = {count};
												for each  page_no in pageIterationList
												{
													count = count + 1;
													pageIterationList = {count};
													invoices_params = "page=" + page_no + "&per_page=500&cf_dispatched_not_equal=true";
													// 			invoices_params = "page=" + page_no + "&per_page=2000";
													invoices_response = zoho.books.getRecords("invoices",orgID,invoices_params,"internal_zohobooks1");
													if(invoices_response.containKey("invoices"))
													{
														for each  record in invoices_response.get("invoices")
														{
															if(record.get("status") != "draft")
															{
																filtered_invoice_numbers.add(record.get("invoice_number") + " (" + record.get("invoice_id") + ")");
															}
														}
													}
													if(invoices_response.containKey("page_context") && invoices_response.get("page_context").get("has_more_page") == false)
													{
														break;
													}
												}
											}
											else if(input.Module == "TO")
											{
												input.Item_Details.clear();
												disable Invoice_No;
												enable TO;
												count = 1;
												// 	pageIterationListForTO = {1};
												pageIterationListForTO = {count};
												for each  page in pageIterationListForTO
												{
													count = count + 1;
													pageIterationListForTO = {count};
													transfer_order_params = "page=" + page + "&per_page=200&cf_dispatched_not_equal=true";
													transfer_order_response = zoho.books.getRecords("transferorders",orgID,transfer_order_params,"internal_zohobooks1");
													if(transfer_order_response.containKey("transfer_orders"))
													{
														for each  transfer_record in transfer_order_response.get("transfer_orders")
														{
															if(transfer_record.get("status") == "in_transit")
															{
																filtered_transfer_order.add(transfer_record.get("transfer_order_number") + " (" + transfer_record.get("transfer_order_id") + ")");
															}
														}
													}
													if(transfer_order_response.containKey("page_context") && transfer_order_response.get("page_context").get("has_more_page") == false)
													{
														break;
													}
												}
											}
											if(input.Module == "TO")
											{
												input.Invoice_No:ui.add("");
												input.TO:ui.add(filtered_transfer_order);
											}
											else
											{
												input.TO:ui.add("");
												input.Invoice_No:ui.add(filtered_invoice_numbers);
											}
										}
										catch (e)
										{
											info "Error: " + e.toString();
										}
						)
					}
				}

			}
			User_Input_of_a_Invoice_N as "User Input of a Invoice No"
			{
				type =  form
				form = Outbound_Form

				record event = on add or edit

				on user input of Invoice_No
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											if(input.Invoice_No == null || input.Invoice_No == "")
											{
												input.Item_Details.clear();
											}
											invoice_id = input.Invoice_No.toList("(");
											invoice_id = invoice_id.get(1).replaceAll("[)]","");
											invoice_response = zoho.books.getRecordsByID("invoices",orgID,invoice_id.toString(),"internal_zohobooks1");
											invoice = invoice_response.get("invoice");
											item_rows = List();
											if(invoice != null)
											{
												line_items = invoice.get("line_items");
												if(line_items != null && line_items.size() > 0)
												{
													index = 1;
													input.Item_Details.clear();
													rows = Collection();
													for each  line_items_record in line_items
													{
														row = Outbound_Form.Item_Details();
														row.S_No=index;
														row.Items=ifnull(line_items_record.get("name"),"");
														row.Quantity=ifnull(line_items_record.get("quantity"),0);
														rows.insert(row);
														index = index + 1;
													}
													input.Item_Details.insert(rows);
												}
											}
										}
										catch (e)
										{
											info "Error: " + e.toString();
										}
						)
					}
				}

			}
			Disable_Fields as "Disable Fields"
			{
				type =  form
				form = Outbound_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											disable Item_Details.S_No;
										disable Item_Details.Items;
										disable Item_Details.Quantity;
										disable Item_Details.Quantity_Sent;
										disable Invoice_No;
										disable TO;
						)
					}
				}

			}
			User_Input_of_Select as "User Input of Select"
			{
				type =  form
				form = Outbound_Form

				record event = on add or edit

				on user input of Item_Details.Select
				{
					actions 
					{
						custom deluge script
						(
											if(row.Select == true)
										{
											enable row.Quantity_Sent;
										}
										else
										{
											disable row.Quantity_Sent;
										}
						)
					}
				}

			}
			User_input_of_a_Quantity_ as "User input of a Quantity Sent"
			{
				type =  form
				form = Outbound_Form

				record event = on add or edit

				on user input of Item_Details.Quantity_Sent
				{
					actions 
					{
						custom deluge script
						(
											if(row.Quantity_Sent != null && row.Quantity != null)
										{
											if(row.Quantity_Sent != row.Quantity)
											{
												alert "Quantity Sent must be equal to Quantity";
												row.Quantity_Sent=null;
											}
										}
						)
					}
				}

			}
			Validate_and_Save as "Validate and Save"
			{
				type =  form
				form = Outbound_Form

				record event = on add or edit

				on validate
				{
					actions 
					{
						custom deluge script
						(
											error_count = 0;
										for each  row in input.Item_Details
										{
											if(row.Select != true)
											{
												error_count = error_count + 1;
											}
											else if(row.Quantity_Sent == null || row.Quantity_Sent == 0)
											{
												error_count = error_count + 1;
											}
										}
										if(error_count > 0)
										{
											alert "Please select all items and ensure Quantity Sent is equal to Quantity";
											cancel submit;
										}
										else
										{
											try 
											{
												orgID = "60043759810";
												if(input.Module == "Invoices")
												{
													invoice_id = input.Invoice_No.toList("(");
													invoice_id = invoice_id.get(1).replaceAll("[)]","");
													cf_list = List();
													cf_driver = Map();
													cf_driver.put("label","Driver Name");
													cf_driver.put("value",input.Driver_Name);
													cf_list.add(cf_driver);
													cf_contact = Map();
													cf_contact.put("label","Driver Contact");
													cf_contact.put("value",input.Contact);
													cf_list.add(cf_contact);
													cf_dispatched = Map();
													cf_dispatched.put("label","Dispatched");
													cf_dispatched.put("value","TRUE");
													cf_list.add(cf_dispatched);
													dispatched_date = input.Date_field1.toString("yyyy-MM-dd");
													cf_dispatched_date = Map();
													cf_dispatched_date.put("label","Dispatched Date");
													cf_dispatched_date.put("value",dispatched_date);
													cf_list.add(cf_dispatched_date);
													update_map = Map();
													update_map.put("custom_fields",cf_list);
													response = zoho.books.updateRecord("invoices",orgID,invoice_id.toString(),update_map,"internal_zohobooks1");
												}
												else if(input.Module == "TO")
												{
													transfer_order_id = input.TO.toList("(");
													transfer_order_id = transfer_order_id.get(1).replaceAll("[)]","");
													transfer_order_response = zoho.books.getRecordsByID("transferorders",orgID,transfer_order_id.toString(),"internal_zohobooks1");
													transfer_order = transfer_order_response.get("transfer_order");
													line_items_list = List();
													for each  record in transfer_order.get("line_items")
													{
														line_items_map = Map();
														line_items_map.put("item_id",record.get("item_id"));
														line_items_map.put("name",record.get("name"));
														line_items_map.put("description",record.get("description"));
														line_items_map.put("quantity_transfer",record.get("quantity_transfer"));
														line_items_map.put("unit",record.get("unit"));
														line_items_list.add(line_items_map);
													}
													cf_list = List();
													cf_driver = Map();
													cf_driver.put("label","Driver Name");
													cf_driver.put("value",input.Driver_Name);
													cf_list.add(cf_driver);
													cf_contact = Map();
													cf_contact.put("label","Driver Contact");
													cf_contact.put("value",input.Contact);
													cf_list.add(cf_contact);
													cf_dispatched = Map();
													cf_dispatched.put("label","Dispatched");
													cf_dispatched.put("value","TRUE");
													cf_list.add(cf_dispatched);
													dispatched_date = input.Date_field1.toString("yyyy-MM-dd");
													cf_dispatched_date = Map();
													cf_dispatched_date.put("label","Dispatched Date");
													cf_dispatched_date.put("value",dispatched_date);
													cf_list.add(cf_dispatched_date);
													update_map = Map();
													update_map.put("transfer_order_number",transfer_order.get("transfer_order_number"));
													update_map.put("date",transfer_order.get("date"));
													update_map.put("from_location_id",transfer_order.get("from_location_id"));
													update_map.put("to_location_id",transfer_order.get("to_location_id"));
													update_map.put("line_items",line_items_list);
													update_map.put("custom_fields",cf_list);
													transfer_order_update_response = zoho.books.updateRecord("transferorders",orgID,transfer_order_id.toString(),update_map,"internal_zohobooks1");
													info "transferorderupdateresponse================= " + transfer_order_update_response;
												}
											}
											catch (e)
											{
												info "Error " + e.toString();
											}
										}
						)
					}
				}

			}
			User_input_of_a_TO as "User input of a TO"
			{
				type =  form
				form = Outbound_Form

				record event = on add or edit

				on user input of TO
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											if(input.TO == null || input.TO.trim() == "")
											{
												input.Item_Details.clear();
											}
											transfer_order_id = input.TO.toList("(");
											transfer_order_id = transfer_order_id.get(1).replaceAll("[)]","");
											// 	info "transfer_order_idddddddddddddddddddd " + transfer_order_id;
											transfer_order_response = zoho.books.getRecordsByID("transferorders",orgID,transfer_order_id.toString(),"internal_zohobooks1");
											// 		info "transfer_order_responseeee " + transfer_order_response;
											transfer_order = transfer_order_response.get("transfer_order");
											item_rows = List();
											if(transfer_order != null)
											{
												line_items = transfer_order.get("line_items");
												if(line_items != null && line_items.size() > 0)
												{
													index = 1;
													input.Item_Details.clear();
													rows = Collection();
													for each  line_items_record in line_items
													{
														row = Outbound_Form.Item_Details();
														row.S_No=index;
														row.Items=ifnull(line_items_record.get("name"),"");
														row.Quantity=ifnull(line_items_record.get("quantity_transfer"),0);
														rows.insert(row);
														index = index + 1;
													}
													input.Item_Details.insert(rows);
												}
											}
										}
										catch (e)
										{
											info "Error " + e.toString();
										}
						)
					}
				}

			}
			Hide_Add_New_and_Delete_i1 as "Hide, Add New and Delete icon"
			{
				type =  form
				form = Outbound_Form

				record event = on add or edit

				field rules
				{
					actions 
					{
					hide add row of Item_Details;
					}
					actions 
					{
					hide delete row of Item_Details;
					}
				}

			}
			User_Input_of_a_Module_in1 as "User Input of a Module in Inbound"
			{
				type =  form
				form = Inbound_Form

				record event = on add or edit

				on user input of Module
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											if(input.Module != "TO")
											{
												disable TO;
												input.Item_Details.clear();
												input.Driver_Name = "";
												input.Contact = "";
												input.Dispatched_Date = null;
											}
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											filtered_transfer_order = List();
											if(input.Module == "TO")
											{
												enable TO;
												input.Item_Details.clear();
												count = 1;
												// 	pageIterationListForTO = {1};
												pageIterationListForTO = {count};
												for each  page in pageIterationListForTO
												{
													count = count + 1;
													pageIterationListForTO = {count};
													transfer_order_params = "page=" + page + "&per_page=200&cf_dispatched_not_equal=false";
													transfer_order_response = zoho.books.getRecords("transferorders",orgID,transfer_order_params,"internal_zohobooks1");
													if(transfer_order_response.containKey("transfer_orders"))
													{
														for each  transfer_record in transfer_order_response.get("transfer_orders")
														{
															if(transfer_record.get("status") == "in_transit")
															{
																filtered_transfer_order.add(transfer_record.get("transfer_order_number") + " (" + transfer_record.get("transfer_order_id") + ")");
															}
														}
													}
													if(transfer_order_response.containKey("page_context") && transfer_order_response.get("page_context").get("has_more_page") == false)
													{
														break;
													}
												}
											}
											if(input.Module == "TO")
											{
												input.TO:ui.add(filtered_transfer_order);
											}
											else
											{
												input.TO:ui.add("");
											}
										}
										catch (e)
										{
											info "Error in User Input of a Module in Inbound " + e.toString();
										}
						)
					}
				}

			}
			Disable_Field as "Disable Field"
			{
				type =  form
				form = Inbound_Form

				record event = on add or edit

				on load
				{
					actions 
					{
						custom deluge script
						(
											disable TO;
										disable Item_Details.S_No;
										disable Item_Details.Items;
										disable Item_Details.Quantity;
										disable Item_Details.Quantity_Sent;
										disable Driver_Name;
										disable Contact;
										disable Dispatched_Date;
						)
					}
				}

			}
			Hide_Add_New_Delete_icon as "Hide, Add New & Delete icon"
			{
				type =  form
				form = Inbound_Form

				record event = on add or edit

				field rules
				{
					actions 
					{
					hide add row of Item_Details;
					}
					actions 
					{
					hide delete row of Item_Details;
					}
				}

			}
			User_Input_of_a_TO1 as "User Input of a TO"
			{
				type =  form
				form = Inbound_Form

				record event = on add or edit

				on user input of TO
				{
					actions 
					{
						custom deluge script
						(
											try 
										{
											orgID = "60043759810";
											connectionName = "internal_zohobooks1";
											if(input.TO == null || input.TO.trim() == "")
											{
												input.Item_Details.clear();
												input.Driver_Name = "";
												input.Contact = "";
												input.Dispatched_Date = null;
											}
											transfer_order_id = input.TO.toList("(");
											transfer_order_id = transfer_order_id.get(1).replaceAll("[)]","");
											transfer_order_response = zoho.books.getRecordsByID("transferorders",orgID,transfer_order_id.toString(),"internal_zohobooks1");
											driver_name = transfer_order_response.get("transfer_order").get("custom_field_hash").get("cf_driver_name_unformatted");
											driver_contact = transfer_order_response.get("transfer_order").get("custom_field_hash").get("cf_driver_contact_unformatted");
											dispatched_date = transfer_order_response.get("transfer_order").get("custom_field_hash").get("cf_dispatched_date_unformatted");
											input.Driver_Name = driver_name;
											input.Contact = driver_contact;
											input.Dispatched_Date = dispatched_date;
											transfer_order = transfer_order_response.get("transfer_order");
											item_rows = List();
											if(transfer_order != null)
											{
												line_items = transfer_order.get("line_items");
												if(line_items != null && line_items.size() > 0)
												{
													index = 1;
													input.Item_Details.clear();
													rows = Collection();
													for each  line_items_record in line_items
													{
														row = Inbound_Form.Item_Details();
														row.S_No=index;
														row.Items=ifnull(line_items_record.get("name"),"");
														row.Quantity=ifnull(line_items_record.get("quantity_transfer"),0);
														rows.insert(row);
														index = index + 1;
													}
													input.Item_Details.insert(rows);
												}
											}
										}
										catch (e)
										{
											info "Error in user input of a TO " + e.toString();
										}
						)
					}
				}

			}
			User_Input_of_a_Select as "User Input of a Select"
			{
				type =  form
				form = Inbound_Form

				record event = on add or edit

				on user input of Item_Details.Select
				{
					actions 
					{
						custom deluge script
						(
											if(row.Select == true)
										{
											enable row.Quantity_Sent;
										}
										else
										{
											disable row.Quantity_Sent;
										}
						)
					}
				}

			}
			User_Input_of_Quantity_Se as "User Input of Quantity Sent"
			{
				type =  form
				form = Inbound_Form

				record event = on add or edit

				on user input of Item_Details.Quantity_Sent
				{
					actions 
					{
						custom deluge script
						(
											if(row.Quantity_Sent != null && row.Quantity != null)
										{
											if(row.Quantity_Sent != row.Quantity)
											{
												alert "Quantity Sent must be equal to Quantity";
												row.Quantity_Sent=null;
											}
										}
						)
					}
				}

			}
			Validate_and_Submit as "Validate and Submit"
			{
				type =  form
				form = Inbound_Form

				record event = on add or edit

				on validate
				{
					actions 
					{
						custom deluge script
						(
											error_count = 0;
										for each  row in input.Item_Details
										{
											if(row.Select != true)
											{
												error_count = error_count + 1;
											}
											else if(row.Quantity_Sent == null || row.Quantity_Sent == 0)
											{
												error_count = error_count + 1;
											}
										}
										if(error_count > 0)
										{
											alert "Please select all items and ensure Quantity Sent is equal to Quantity";
											cancel submit;
										}
										else
										{
											try 
											{
												orgID = "60043759810";
												if(input.Module == "TO")
												{
													transfer_order_id = input.TO.toList("(");
													transfer_order_id = transfer_order_id.get(1).replaceAll("[)]","");
													transfer_order_response = zoho.books.getRecordsByID("transferorders",orgID,transfer_order_id.toString(),"internal_zohobooks1");
													transfer_order = transfer_order_response.get("transfer_order");
													line_items_list = List();
													for each  record in transfer_order.get("line_items")
													{
														line_items_map = Map();
														line_items_map.put("item_id",record.get("item_id"));
														line_items_map.put("name",record.get("name"));
														line_items_map.put("description",record.get("description"));
														line_items_map.put("quantity_transfer",record.get("quantity_transfer"));
														line_items_map.put("unit",record.get("unit"));
														line_items_list.add(line_items_map);
													}
													update_map = Map();
													update_map.put("transfer_order_number",transfer_order.get("transfer_order_number"));
													update_map.put("date",transfer_order.get("date"));
													update_map.put("from_location_id",transfer_order.get("from_location_id"));
													update_map.put("to_location_id",transfer_order.get("to_location_id"));
													update_map.put("line_items",line_items_list);
													// 			update_map.put("in_transit_order",true);
													update_map.put("status","transferred");
													transfer_order_update_response = zoho.books.updateRecord("transferorders",orgID,transfer_order_id.toString(),update_map,"internal_zohobooks1");
													// 			token_url = "https://accounts.zoho.in/oauth/v2/token";
													// 			client_id = "1000.RWK99OIJQIYPKB8WMPLT1YCM0142LL";
													// 			client_secret = "cf93079323600910dc24b6c9eab80617f8767b900b";
													// 			redirect_uri = "https://www.zoho.in";
													// 			access_token = "1000.d5480557209f58a0922d0b6032884124.c07b6733fde16efe94dc63b1109c2d80";
													// 			refresh_token = "1000.fce4cc10a11894e3c2d1de6012c77137.1d715c0168e50c13ffa852d3294c7f01";
													// 			transfer_date = if(input.Date_field1 != null, input.Date_field1.toString("yyyy-MM-dd"), zoho.currentdate.toString("yyyy-MM-dd"));
													// 			headers_data = Map();
													// 			headers_data.put("Authorization","Zoho-oauthtoken " + access_token);
													// 			headers_data.put("Content-Type","application/json");
													// 			body_map = Map();
													// 			body_map.put("transfer_date", transfer_date);
													// 			transfer_order_update_response = invokeUrl
													//             [
													// 				url: "https://www.zohoapis.in/inventory/v1/transferorders/"+transfer_order_id+"/markastransferred?organization_id="+orgID
													// 				type: POST
													// 				headers: headers_data
													// 				parameters: body_map.toString()
													// 				connection: "internal_zohobooks1"
													//             ];
													// 			info "transfer_order_update_response===========> " + transfer_order_update_response;
													// 			if(transfer_order_update_response.toString().contains("INVALID_OAUTHTOKEN") || transfer_order_update_response.toString().contains("AUTHENTICATION_FAILURE"))
													// 			{
													// 				param_map = Map();
													// 				param_map.put("grant_type","refresh_token");
													// 				param_map.put("client_id",client_id);
													// 				param_map.put("client_secret",client_secret);
													// 				param_map.put("refresh_token",refresh_token);
													// 				auth_response = invokeurl
													// 				[
													// 					url : token_url
													// 					type : POST
													// 					parameters : param_map
													// 				];
													// 				new_access_token = auth_response.get("access_token");
													// 				if(new_access_token != null)
													// 				{
													// 					access_token = new_access_token;
													// 					headers_data.put("Authorization","Zoho-oauthtoken " + access_token);
													// 					transfer_order_update_response = invokeurl
													// 					[
													// 						url :"https://www.zohoapis.in/inventory/v1/transferorders/" + transfer_order_id + "/markastransferred?organization_id=" + orgID
													// 						type : POST
													// 						headers : headers_data
													// 						parameters: body_map.toString()
													// 						connection: "internal_zohobooks1"
													// 					];
													// 					info "transfer_order_update_response-------------------------------------==- " + transfer_order_update_response;
													// 				}
													// 			}
												}
											}
											catch (e)
											{
												info "Error " + e.toString();
											}
										}
						)
					}
				}

			}
		}

		schedule
		{
			Test as "Test"
			{
				type =  schedule
				start = "2025-11-20 16:02:30"
				frequency = daily
				time zone = "Asia/Kolkata"
				on start
				{
					actions 
					{
					on load
					(
						try 
										{
											orgID = "60043759810";
											// 	connectionName = "internal_zohobooks1";
											// 	params = "page=1&per_page=2000";
											// 	chartofaccounts_response = zoho.books.getRecords("chartofaccounts",orgID,params,"internal_zohobooks1");
											// 	info "chartofaccounts_responseeee " + chartofaccounts_response;
											info "zoho login userrr " + zoho.loginuserid;
											// 	params = "page=1&per_page=200";
											// 	transfer_order_response = zoho.books.getRecords("transferorders",orgID,params,"internal_zohobooks1");
											// 	info "transfer_order_response============== " + transfer_order_response;
											// 	item_id = "2723725000001213157";
											// 	response = zoho.books.getRecordsByID("items",orgID,item_id,"internal_zohobooks1");
											// 	info "response======================== " + response;
											info "zoho.admin.user======= " + zoho.adminuser;
											info "zoho.admin.user.id==== " + zoho.adminuserid;
											info "zoho.app.name========= " + zoho.appname;
											info "zoho.ip.address======= " + zoho.ipaddress;
											info "zoho.appuri=========== " + zoho.appuri;
											info "zoho.device.type====== " + zoho.device.type;
										}
										catch (e)
										{
											info "Error while syncing ::::::: " + e.toString();
										}
					)
					}
				}
			}
		}




		functions
		{
			View as "View"
			{
				type =  functions
				form = Invoice_Form
				execution type = for each record	
				on start
				{
					actions 
					{
					on click
					(
						openUrl("#Page:Invoice_Template1?INV_ID=" + input.ID,"popup window","height=800px,width=1200px");
					)
					}
				}
			}
		}
	}
	share_settings
	{
			"Read"
			{
				name = "Read"
				type = Users_Permissions
				permissions = {Chat:true, Predefined:true, ApiAccess:true, PIIAccess:true, ePHIAccess:true}
				description = "This profile will have read permission for all components\n"
			}
			"Write"
			{
				name = "Write"
				type = Users_Permissions
				permissions = {Chat:true, Predefined:true, ApiAccess:true, PIIAccess:true, ePHIAccess:true}
				description = "This profile will have write permission for all components\n"
			}
			"Developer"
			{
				name = "Developer"
				type = Developer
				permissions = {Chat:false, Predefined:true, ApiAccess:true, PIIAccess:true, ePHIAccess:true}
				description = "Developer Profile\n"
			}
			"Administrator"
			{
				name = "Administrator"
				type = Users_Permissions
				permissions = {Chat:true, Predefined:true, ApiAccess:true, PIIAccess:true, ePHIAccess:true}
				description = "This profile will have all the permissions.\n"
			}
			"Customer"
			{
				name = "Customer"
				type = Customer_Portal
				permissions = {Chat:true, Predefined:true, ApiAccess:true, PIIAccess:true, ePHIAccess:true}
				description = "This is the default profile having only add and view permission.\n"
			}
			roles
			{
				"CEO"
				{
					description = "User belonging to this role can access data of all other users."
				}
			}
	}


	connections
	{
		internal_zohobooks1
		(
			displayname = "internal_zohobooks"
			connector = zohobooks
			permissions = {"all_operations","create_account","create_bill","create_credit_note","create_custom_module_record","create_customer","create_customer_payment","create_expense","create_invoice","create_item","create_journal","create_location","create_purchase_order","create_quote","create_recurring_bill","create_recurring_expense","create_retainer_invoice","create_sales_order","create_vendor","create_vendor_credit","create_vendor_payment","get_account","get_all_accounts","get_all_bills","get_all_credit_notes","get_all_currencies","get_all_custom_module_records","get_all_custom_modules","get_all_customer_payments","get_all_customers","get_all_expenses","get_all_invoices","get_all_items","get_all_journals","get_all_locations","get_all_organizations","get_all_projects","get_all_purchase_accounts","get_all_purchase_orders","get_all_quotes","get_all_recurring_bills","get_all_recurring_expenses","get_all_retainer_invoices","get_all_sales_accounts","get_all_sales_orders","get_all_states","get_all_stock_accounts","get_all_tax_authorities","get_all_taxes","get_all_tds_taxes","get_all_vendor_credits","get_all_vendor_payments","get_all_vendors","get_bill","get_credit_note","get_custom_module_record","get_customer","get_customer_payment","get_expense","get_invoice","get_item","get_journal","get_purchase_order","get_quote","get_recurring_bill","get_recurring_expense","get_retainer_invoice","get_sales_order","get_vendor","get_vendor_credit","get_vendor_payment","search_bills","search_customer_payments","search_customers","search_expenses","search_invoices","search_items","search_journals","search_purchase_orders","search_quotes","search_recurring_bills","search_recurring_expenses","search_sales_orders","search_vendor_credits","search_vendor_payments","search_vendors","sync_customers","sync_invoices","sync_items","sync_purchase_orders","sync_quotes","sync_sales_orders","sync_vendors","update_account","update_bill","update_credit_note","update_custom_module_record","update_customer","update_customer_payment","update_expense","update_invoice","update_item","update_journal","update_location","update_purchase_order","update_quote","update_recurring_bill","update_recurring_expense","update_retainer_invoice","update_sales_order","update_vendor","update_vendor_credit","update_vendor_payment"}
		)
		zoho_workdrive_connection
		(
			displayname = "Zoho_Workdrive_Connection"
			connector = zoho_workdrive
			permissions = {"add_comment","add_members_to_team_folder","all_file_operations","all_organization_operations","create_data_template","create_external_collection","create_group","create_label","create_share_link","create_split_page","create_team_folder","delete_collection","delete_comment","delete_data_template","delete_group","delete_label","delete_member_from_team_folder","delete_team_folder","disable_collection","download_file","enable_collection","get_all_collections","get_all_comments","get_all_team_members","get_file_details","get_group","get_label","get_my_user_details","get_share_link","get_shared_file","get_team_folder","remove_file_access","rename_data_template","rename_file","rename_team_folder","search_file","share_file","update_comment","update_group_name","update_label_name","update_share_link","update_team_name","upload_file"}
		)
	}
	web
	{
		forms
		{
			form Books_Items
			{
				label placement = left
			}
			form Customer_Form
			{
				label placement = left
			}
			form inbound_and_outbound
			{
				label placement = left
			}
			form Inbound_Form
			{
				label placement = left
			}
			form Invoice_Form
			{
				label placement = labelinplace
			}
			form Locations
			{
				label placement = left
			}
			form New_Appointment
			{
				label placement = left
			}
			form Outbound_Form
			{
				label placement = left
			}
			form Price_List
			{
				label placement = left
			}
			form SalesPerson_Form
			{
				label placement = left
			}
			form TO_Items
			{
				label placement = left
			}
			form Transfer_Orders
			{
				label placement = left
			}
		}
		reports
		{
			report All_Customers
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								Name
								Phone_Number as "Phone"
								Email
								Books_Customer_ID as "Books Customer ID"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								Name
								Phone_Number as "Phone"
								Email
								Books_Customer_ID as "Books Customer ID"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report All_Invoices
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								Customer
								Invoice_No as "Invoice No"
								Invoice_Date as "Invoice Date"
								Item_Details.S_No as "Item Details"
								Total_Bag as "Total Bag"
								SalesPerson
								Payment
								"View"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								Customer
								Invoice_No as "Invoice No"
								Invoice_Date as "Invoice Date"
								Item_Details.S_No as "Item Details"
								Total_Bag as "Total Bag"
								Subtotal
								Labour_Charge as "Labour Charge"
								Total_Amount as "Total Amount"
								Total_Weight as "Total Weight"
								SalesPerson
								Freight
								Location
								Payment
								Payment_Mode as "Payment Mode"
								Deposit_To as "Deposit To"
								Amount_Received as "Amount Received"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report All_Locations
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								Name
								Books_Location_ID as "Books Location ID"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								Name
								Books_Location_ID as "Books Location ID"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report All_Salespeople
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								Name
								Email
								Books_SalesPerson_ID as "Books SalesPerson ID"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								Name
								Email
								Books_SalesPerson_ID as "Books SalesPerson ID"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report Books_Items_Report
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								UOM
								Unit_Price_Kg as "Unit Price Kg"
								Item_Name as "Item Name"
								Books_Item_ID as "Books Item ID"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								UOM
								Unit_Price_Kg as "Unit Price Kg"
								Item_Name as "Item Name"
								Books_Item_ID as "Books Item ID"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report Todays_Appointments
			{
				quickview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = 1
		     				title = "Overview"
							fields
							(
								Name
								Email_Id as "Email Id"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Add 
    		 				Print 
    		 				Import 
    		 				Export 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Print   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							Print   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
		     				title = "Overview"
							fields
							(
								Name
								Mobile_Number as "Mobile Number"
								Email_Id as "Email Id"
								Age
								Address
								Appointment_Date_Time as "Appointment Date-Time"
								Alternative_Date_Time as "Alternative Date-Time"
								First_Time_Visit as "First Time Visit"
								Preferred as "Preferred method of contact"
								Comments_if_any as "Comments"
								Status
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Print 
    		 				Delete 
    	 				)
    				)
				)
			}
			report Appointment_Requests
			{
				quickview
				(
					layout
					(
		 				type = 2
						datablock1
						(
							layout type = 4
		     				title = "Overview"
							fields
							(
								Name
								Appointment_Date_Time as "Appointment Date-Time"
								Email_Id as "Email Id"
								Mobile_Number as "Mobile Number"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    		 				Add 
    		 				Print 
    		 				Import 
    		 				Export 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Print   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							Print   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
		     				title = "Overview"
							fields
							(
								Name
								Mobile_Number as "Mobile Number"
								Email_Id as "Email Id"
								Age
								Address
								Appointment_Date_Time as "Appointment Date-Time"
								Alternative_Date_Time as "Alternative Date-Time"
								First_Time_Visit as "First Time Visit"
								Preferred as "Preferred method of contact"
								Comments_if_any as "Comments"
								Status
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Print 
    		 				Delete 
    	 				)
    				)
				)
			}
			report inbound_and_outbound_Report
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								Invoice_Number as "Invoice Number"
								SubForm.Item_Name as "SubForm"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								Invoice_Number as "Invoice Number"
								SubForm.Item_Name as "SubForm"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report Transfer_Orders_Report1
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								transfer_order_id as "Transfer ID"
								transfer_order_id2 as "TO NO"
								Status
								order_date as "Date"
								User
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								transfer_order_id as "Transfer ID"
								transfer_order_id2 as "TO NO"
								Status
								order_date as "Date"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report TO_Items_Report
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								transfer_order_id as "TO ID"
								TO_NO as "TO NO"
								Item_Details.name as "Item Details"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								transfer_order_id as "TO ID"
								TO_NO as "TO NO"
								Item_Details.name as "Item Details"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report All_Price_Lists
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								Location
								Category
								Item_Details.S_No as "Item Details"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								Location
								Category
								Item_Details.S_No as "Item Details"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report Inbound_Form_Report
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								Module
								Item_Details.S_No as "Item Details"
								TO
								Driver_Name as "Driver Name"
								Contact
								Dispatched_Date as "Dispatched Date"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								Module
								Item_Details.S_No as "Item Details"
								TO
								Driver_Name as "Driver Name"
								Contact
								Dispatched_Date as "Dispatched Date"
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
			report Outbound_Form_Report
			{
				quickview
				(
					layout
					(
		 				type = -1
						datablock1
						(
							layout type = -1
							fields
							(
								Module
								Item_Details.S_No as "Item Details"
								Invoice_No as "Invoice No"
								Driver_Name as "Driver Name"
								Contact
								Date_field1 as "Date"
								TO
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
						record
						(
							Edit   	   
							Duplicate   	   
							Delete   	   
    					)
    				)
    				action
    				(
						on click
						(
							View Record   	   
    					)
						on right click
						(
							Edit   	   
							Delete   	   
							Duplicate   	   
							View Record   	   
    					)
     				)
				)

				detailview
				(
					layout
					(
		 				type = 1
						datablock1
						(
							layout type = -2
							fields
							(
								Module
								Item_Details.S_No as "Item Details"
								Invoice_No as "Invoice No"
								Driver_Name as "Driver Name"
								Contact
								Date_field1 as "Date"
								TO
							)
						)
					)
					menu
    				(
    	 				header
    	 				(
    		 				Edit 
    		 				Duplicate 
    		 				Delete 
    	 				)
    				)
				)
			}
		}
		menu
		{
			unused
			{
				form  New_Appointment
				{
					icon = "users-2-child"
				}
				report Todays_Appointments
				{
					icon = "users-2-a-time"
				}
				report Appointment_Requests
				{
					icon = "tech-desktop"
				}
			}
			space Space
			{
				displayname = "Space"
				icon = "objects-spaceship"

				section Customers
				{
					displayname = "Customers"
					icon = "shopping-mobile-card"
					form  Customer_Form
					{
						icon = "design-2-form"
					}
					report All_Customers
					{
						icon = "tech-desktop"
					}
				}
				section App_Preferences
				{
					displayname = "App Preferences"
					icon = "design-app"
					systemcomponent
					{
						type = localization
						displayname = "Language Selection"
						icon = "education-language"
					}
					systemcomponent
					{
						type = connection
						displayname = "Integrations"
						icon = "tech-2-connection"
					}
				}
				section Approvals
				{
					displayname = "Approvals"
					icon = "ui-2-hourglass"
					systemcomponent
					{
						type = approval
						approval status = pending
						displayname = "Pending Tasks"
						icon = "ui-2-hourglass"
					}
					systemcomponent
					{
						type = approval
						approval status = completed
						displayname = "Completed Tasks"
						icon = "design-todo"
					}
				}
				section SharedAnalytics_Section
				{
					type = shared_user_report_section
					displayname = "Reports"
					icon = "business-chart-bar-33"
				}
				section Invoices
				{
					displayname = "Invoices"
					icon = "shopping-receipt"
					form  Invoice_Form
					{
						icon = "shopping-receipt-list-42"
					}
					report All_Invoices
					{
						icon = "tech-desktop"
					}
				}
				section Locations
				{
					displayname = "Locations"
					icon = "location-pin-copy"
					form  Locations
					{
						icon = "location-pin-copy"
					}
					report All_Locations
					{
						icon = "tech-desktop"
					}
				}
				section Salespeople
				{
					displayname = "Salespeople"
					icon = "tech-desktop"
					form  SalesPerson_Form
					{
						icon = "design-2-form"
					}
					report All_Salespeople
					{
						icon = "tech-desktop"
					}
				}
				section Books_Items
				{
					displayname = "Books Items"
					icon = "education-books-46"
					form  Books_Items
					{
						icon = "education-books-46"
					}
					report Books_Items_Report
					{
						icon = "tech-desktop"
					}
				}
				section Invoice_template
				{
					displayname = "Invoice template"
					icon = "shopping-receipt-list-42"
					page Invoice_template
					{
						icon = "shopping-receipt-list-42"
					}
					page Test_page
					{
						icon = "education-flask"
					}
					page Transfer_Order
					{
						icon = "shopping-basket-edit"
					}
					page TO_Item_Details_Page
					{
						icon = "tech-desktop"
					}
					page Logistics_Management
					{
						icon = "education-books-46"
					}
					page Invoice
					{
						icon = "shopping-receipt-list-42"
					}
					page Invoice_Template1
					{
						icon = "shopping-receipt-list-42"
					}
				}
				section inbound_and_outbound
				{
					displayname = "inbound and outbound"
					icon = "transportation-light-traffic"
					form  inbound_and_outbound
					{
						icon = "transportation-light-traffic"
					}
					report inbound_and_outbound_Report
					{
						icon = "tech-desktop"
					}
				}
				section Transfer_Orders
				{
					displayname = "Transfer_Orders"
					icon = "tech-desktop"
					form  Transfer_Orders
					{
						icon = "tech-desktop"
					}
					report Transfer_Orders_Report1
					{
						icon = "tech-desktop"
					}
				}
				section TO_Items
				{
					displayname = "TO_Items"
					icon = "tech-desktop"
					form  TO_Items
					{
						icon = "tech-desktop"
					}
					report TO_Items_Report
					{
						icon = "tech-desktop"
					}
				}
				section Price_Lists
				{
					displayname = "Price Lists"
					icon = "shopping-tag"
					form  Price_List
					{
						icon = "shopping-tag"
					}
					report All_Price_Lists
					{
						icon = "tech-desktop"
					}
				}
				section Inbound_Form
				{
					displayname = "Inbound Form"
					icon = "design-2-selection"
					form  Inbound_Form
					{
						icon = "design-2-selection"
					}
					report Inbound_Form_Report
					{
						icon = "tech-desktop"
					}
				}
				section Outbound_Form
				{
					displayname = "Outbound Form"
					icon = "design-2-form"
					form  Outbound_Form
					{
						icon = "design-2-form"
					}
					report Outbound_Form_Report
					{
						icon = "tech-desktop"
					}
				}
			}
			space Space_2
			{
				displayname = "Space 2"
				icon = "objects-spaceship"

			}
			preference
			{
				icon
				{
					style = outline
				}
			}
		}
		customize
		{
			new theme = 11
			font = "lato"
			color options
			{
				color = "1"
			}
			logo
			{
				preference = "none"
				placement = "left"
			}
		}
	}
	phone
	{
		forms
		{
			form Books_Items
			{
				label placement = auto
			}
			form Customer_Form
			{
				label placement = auto
			}
			form inbound_and_outbound
			{
				label placement = auto
			}
			form Inbound_Form
			{
				label placement = auto
			}
			form Invoice_Form
			{
				label placement = auto
			}
			form Locations
			{
				label placement = auto
			}
			form New_Appointment
			{
				label placement = left
			}
			form Outbound_Form
			{
				label placement = auto
			}
			form Price_List
			{
				label placement = auto
			}
			form SalesPerson_Form
			{
				label placement = auto
			}
			form TO_Items
			{
				label placement = auto
			}
			form Transfer_Orders
			{
				label placement = auto
			}
		}
		customize
		{
			layout = slidingpane
			font = "default"
			style = "3"
			color options
			{
				color = green
			}
			logo
			{
				preference = "none"
			}
		}
	}
	tablet
	{
		forms
		{
			form Books_Items
			{
				label placement = auto
			}
			form Customer_Form
			{
				label placement = auto
			}
			form inbound_and_outbound
			{
				label placement = auto
			}
			form Inbound_Form
			{
				label placement = auto
			}
			form Invoice_Form
			{
				label placement = auto
			}
			form Locations
			{
				label placement = auto
			}
			form New_Appointment
			{
				label placement = auto
			}
			form Outbound_Form
			{
				label placement = auto
			}
			form Price_List
			{
				label placement = auto
			}
			form SalesPerson_Form
			{
				label placement = auto
			}
			form TO_Items
			{
				label placement = auto
			}
			form Transfer_Orders
			{
				label placement = auto
			}
		}
		customize
		{
			layout = slidingpane
			font = "default"
			style = "3"
			color options
			{
				color = green
			}
			logo
			{
				preference = "none"
			}
		}
	}
	translation
{
{"Language_Settings":{"LANGAGUE_WITH_LOGIN":"browser"}}
}
}
